<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/WebPage">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />


    <!-- Enhanced Primary SEO Meta Tags -->
    <title>
      Free Pest Control Quote Calculator Montreal | Silver Nest Pest Control -
      Instant Pricing 2025
    </title>
    <meta
      name="title"
      content="Free Pest Control Quote Calculator Montreal | Silver Nest Pest Control - Instant Pricing 2025"
    />
    <meta
      name="description"
      content="Get instant pest control quotes in Montreal with our free calculator. Professional extermination for mice, rats, ants, spiders, cockroaches, bed bugs, wasps & more. Licensed exterminators serving Montreal, Laval, Longueuil. Same-day service available. Calculate your quote now!"
    />

    <meta
      name="keywords"
      content="pest control calculator Montreal, free pest control quote Montreal, exterminator cost Montreal, pest control pricing Montreal, mouse removal cost Montreal, rat extermination price Montreal, ant control cost Montreal, spider removal Montreal, cockroach extermination Montreal, bed bug treatment cost Montreal, wasp removal price Montreal, pest control estimate Montreal, instant pest quote Montreal, pest control calculator Quebec, exterminator pricing tool Montreal, pest management cost Montreal, rodent control price Montreal, insect extermination cost Montreal, commercial pest control Montreal pricing, residential pest control Montreal cost, pest control quote calculator online, Montreal pest control services pricing, affordable pest control Montreal, emergency pest control Montreal cost, eco-friendly pest control Montreal pricing, integrated pest management Montreal cost, licensed exterminators Montreal, certified pest control Montreal, bilingual pest control Montreal, pest control West Island Montreal, pest control South Shore Montreal, pest control North Shore Montreal, pest control Laval, pest control Longueuil, pest control Brossard, seasonal pest control Montreal, monthly pest control Montreal, one-time pest control Montreal"
    />

    <meta
      name="robots"
      content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"
    />
    <meta
      name="googlebot"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />
    <meta
      name="bingbot"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />
    <meta name="language" content="English, French" />
    <meta name="author" content="Silver Nest Pest Control" />
    <meta name="publisher" content="Silver Nest Pest Control" />
    <meta name="copyright" content="Silver Nest Pest Control 2025" />
    <meta name="revisit-after" content="7 days" />
    <meta name="rating" content="General" />
    <meta name="distribution" content="global" />
    <meta
      name="classification"
      content="Pest Control Services, Extermination Services, Home Services"
    />
    <meta
      name="category"
      content="Pest Control, Extermination, Home Maintenance"
    />
    <meta name="coverage" content="Montreal, Quebec, Canada" />
    <meta
      name="target"
      content="Montreal residents, Quebec residents, homeowners, business owners"
    />

    <!-- Enhanced Geo-targeting -->
    <meta name="geo.region" content="CA-QC" />
    <meta name="geo.placename" content="Montreal, Quebec, Canada" />
    <meta name="geo.position" content="45.5017;-73.5673" />
    <meta name="ICBM" content="45.5017, -73.5673" />
    <meta
      name="DC.title"
      content="Free Pest Control Quote Calculator Montreal | Silver Nest Pest Control"
    />

    <!-- Enhanced Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Silver Nest Pest Control" />
    <meta
      property="og:url"
      content="https://www.silvernestpestcontrol.com/quote-calculator"
    />
    <meta
      property="og:title"
      content="Free Pest Control Quote Calculator Montreal | Silver Nest Pest Control"
    />
    <meta
      property="og:description"
      content="Get instant pest control quotes in Montreal with our free calculator. Professional extermination for mice, rats, ants, spiders, cockroaches, bed bugs & more. Same-day service available!"
    />
    <meta
      property="og:image"
      content="https://www.silvernestpestcontrol.com/images/pest-control-calculator-montreal-og.jpg"
    />
    <meta
      property="og:image:alt"
      content="Silver Nest Pest Control Quote Calculator - Free Instant Pest Control Pricing for Montreal"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:locale" content="en_CA" />
    <meta property="og:locale:alternate" content="fr_CA" />
    <meta property="og:updated_time" content="2025-01-15T10:00:00+00:00" />
    <meta property="article:author" content="Silver Nest Pest Control" />
    <meta
      property="article:publisher"
      content="https://www.facebook.com/silvernestpestcontrol"
    />
    <meta
      property="business:contact_data:street_address"
      content="2311 RUE LISE"
    />
    <meta property="business:contact_data:locality" content="Montreal" />
    <meta property="business:contact_data:region" content="Quebec" />
    <meta property="business:contact_data:postal_code" content="H8N 1M7" />
    <meta property="business:contact_data:country_name" content="Canada" />

    <!-- Enhanced Twitter Cards -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:site" content="@silvernestpest" />
    <meta property="twitter:creator" content="@silvernestpest" />
    <meta
      property="twitter:url"
      content="https://www.silvernestpestcontrol.com/quote-calculator"
    />
    <meta
      property="twitter:title"
      content="Free Pest Control Quote Calculator Montreal | Silver Nest Pest Control"
    />
    <meta
      property="twitter:description"
      content="Get instant pest control quotes in Montreal with our free calculator. Professional extermination for mice, rats, ants, spiders & more. Same-day service available!"
    />
    <meta
      property="twitter:image"
      content="https://www.silvernestpestcontrol.com/images/pest-control-calculator-montreal-twitter.jpg"
    />
    <meta
      property="twitter:image:alt"
      content="Silver Nest Pest Control Quote Calculator - Free Instant Pest Control Pricing for Montreal"
    />

    <!-- Enhanced Canonical and Alternate URLs -->
    <link
      rel="canonical"
      href="https://www.silvernestpestcontrol.com/quote-calculator"
    />
    <link
      rel="alternate"
      hreflang="en-ca"
      href="https://www.silvernestpestcontrol.com/quote-calculator"
    />
    <link
      rel="alternate"
      hreflang="fr-ca"
      href="https://www.silvernestpestcontrol.com/fr/calculateur-devis"
    />
    <link
      rel="alternate"
      hreflang="x-default"
      href="https://www.silvernestpestcontrol.com/quote-calculator"
    />

    <!-- Additional Resource Hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="dns-prefetch" href="https://www.google-analytics.com" />
    <link rel="dns-prefetch" href="https://www.googletagmanager.com" />

    <!-- Enhanced Favicon Package -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#2e8b57" />
    <meta name="msapplication-TileColor" content="#2e8b57" />
    <meta name="theme-color" content="#2e8b57" />

    <!-- COMPREHENSIVE ENHANCED JSON-LD STRUCTURED DATA -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@graph": [
          {
            "@type": "LocalBusiness",
            "@id": "https://www.silvernestpestcontrol.com/#business",
            "name": "Silver Nest Pest Control",
            "alternateName": "SN Pest Control",
            "description": "Professional pest control and extermination services in Montreal, Quebec. Specializing in residential and commercial pest management including rodents, insects, and comprehensive pest control solutions with same-day service availability.",
            "url": "https://www.silvernestpestcontrol.com",
            "telephone": "+1-514-582-4400",
            "email": "snpest20@gmail.com",
            "foundingDate": "2020",
            "image": {
              "@type": "ImageObject",
              "url": "https://www.silvernestpestcontrol.com/images/silver-nest-pest-control-logo.jpg",
              "width": 800,
              "height": 600
            },
            "logo": {
              "@type": "ImageObject",
              "url": "https://www.silvernestpestcontrol.com/images/silver-nest-pest-control-logo.jpg",
              "width": 300,
              "height": 200
            },
            "address": {
              "@type": "PostalAddress",
              "streetAddress": "2311 RUE LISE",
              "addressLocality": "Montreal",
              "addressRegion": "QC",
              "postalCode": "H8N 1M7",
              "addressCountry": "CA"
            },
            "geo": {
              "@type": "GeoCoordinates",
              "latitude": 45.5017,
              "longitude": -73.5673
            },
            "openingHoursSpecification": [
              {
                "@type": "OpeningHoursSpecification",
                "dayOfWeek": [
                  "Monday",
                  "Tuesday",
                  "Wednesday",
                  "Thursday",
                  "Friday"
                ],
                "opens": "08:00",
                "closes": "18:00"
              },
              {
                "@type": "OpeningHoursSpecification",
                "dayOfWeek": "Saturday",
                "opens": "09:00",
                "closes": "16:00"
              }
            ],
            "serviceArea": [
              {
                "@type": "GeoCircle",
                "geoMidpoint": {
                  "@type": "GeoCoordinates",
                  "latitude": 45.5017,
                  "longitude": -73.5673
                },
                "geoRadius": "50000"
              }
            ],
            "areaServed": [
              {
                "@type": "City",
                "name": "Montreal",
                "addressRegion": "Quebec",
                "addressCountry": "Canada"
              },
              {
                "@type": "City",
                "name": "Laval",
                "addressRegion": "Quebec",
                "addressCountry": "Canada"
              },
              {
                "@type": "City",
                "name": "Longueuil",
                "addressRegion": "Quebec",
                "addressCountry": "Canada"
              },
              {
                "@type": "City",
                "name": "Brossard",
                "addressRegion": "Quebec",
                "addressCountry": "Canada"
              }
            ],
            "priceRange": "$$$",
            "paymentAccepted": [
              "Cash",
              "Credit Card",
              "Debit Card",
              "E-Transfer"
            ],
            "currenciesAccepted": "CAD",
            "slogan": "Say Goodbye to Pests, Hello to Peace!",
            "knowsLanguage": ["en", "fr"],
            "aggregateRating": {
              "@type": "AggregateRating",
              "ratingValue": "4.8",
              "reviewCount": "127",
              "bestRating": "5",
              "worstRating": "1"
            },
            "review": [
              {
                "@type": "Review",
                "reviewRating": {
                  "@type": "Rating",
                  "ratingValue": "5"
                },
                "author": {
                  "@type": "Person",
                  "name": "Marie Dubois"
                },
                "reviewBody": "Excellent service! They eliminated our mouse problem quickly and professionally. The quote calculator was very accurate too."
              }
            ],
            "hasOfferCatalog": {
              "@type": "OfferCatalog",
              "name": "Pest Control Services Montreal",
              "itemListElement": [
                {
                  "@type": "Offer",
                  "itemOffered": {
                    "@type": "Service",
                    "@id": "https://www.silvernestpestcontrol.com/#rodent-control",
                    "name": "Rodent Control Montreal",
                    "description": "Professional mice and rat removal and prevention services in Montreal",
                    "provider": {
                      "@id": "https://www.silvernestpestcontrol.com/#business"
                    },
                    "areaServed": {
                      "@type": "City",
                      "name": "Montreal",
                      "addressRegion": "Quebec"
                    }
                  },
                  "priceSpecification": {
                    "@type": "PriceSpecification",
                    "price": "120-250",
                    "priceCurrency": "CAD"
                  }
                },
                {
                  "@type": "Offer",
                  "itemOffered": {
                    "@type": "Service",
                    "@id": "https://www.silvernestpestcontrol.com/#insect-control",
                    "name": "Insect Control Montreal",
                    "description": "Comprehensive ant, spider, cockroach, and general insect extermination services",
                    "provider": {
                      "@id": "https://www.silvernestpestcontrol.com/#business"
                    }
                  },
                  "priceSpecification": {
                    "@type": "PriceSpecification",
                    "price": "100-280",
                    "priceCurrency": "CAD"
                  }
                },
                {
                  "@type": "Offer",
                  "itemOffered": {
                    "@type": "Service",
                    "@id": "https://www.silvernestpestcontrol.com/#bedbug-treatment",
                    "name": "Bed Bug Treatment Montreal",
                    "description": "Complete bed bug elimination and prevention with follow-up treatments",
                    "provider": {
                      "@id": "https://www.silvernestpestcontrol.com/#business"
                    }
                  },
                  "priceSpecification": {
                    "@type": "PriceSpecification",
                    "price": "150-250",
                    "priceCurrency": "CAD"
                  }
                }
              ]
            }
          },
          {
            "@type": "WebPage",
            "@id": "https://www.silvernestpestcontrol.com/quote-calculator#webpage",
            "url": "https://www.silvernestpestcontrol.com/quote-calculator",
            "name": "Free Pest Control Quote Calculator Montreal | Silver Nest Pest Control",
            "description": "Get instant pest control quotes in Montreal with our free calculator. Professional extermination for mice, rats, ants, spiders, cockroaches, bed bugs & more.",
            "inLanguage": "en-CA",
            "isPartOf": {
              "@type": "WebSite",
              "@id": "https://www.silvernestpestcontrol.com/#website"
            },
            "about": {
              "@id": "https://www.silvernestpestcontrol.com/#business"
            },
            "datePublished": "2024-01-15T10:00:00+00:00",
            "dateModified": "2025-01-15T10:00:00+00:00"
          },
          {
            "@type": "WebSite",
            "@id": "https://www.silvernestpestcontrol.com/#website",
            "url": "https://www.silvernestpestcontrol.com",
            "name": "Silver Nest Pest Control",
            "description": "Professional pest control services in Montreal, Quebec",
            "publisher": {
              "@id": "https://www.silvernestpestcontrol.com/#business"
            },
            "potentialAction": [
              {
                "@type": "SearchAction",
                "target": {
                  "@type": "EntryPoint",
                  "urlTemplate": "https://www.silvernestpestcontrol.com/search?q={search_term_string}"
                },
                "query-input": "required name=search_term_string"
              }
            ]
          },
          {
            "@type": "BreadcrumbList",
            "@id": "https://www.silvernestpestcontrol.com/quote-calculator#breadcrumb",
            "itemListElement": [
              {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://www.silvernestpestcontrol.com"
              },
              {
                "@type": "ListItem",
                "position": 2,
                "name": "Quote Calculator",
                "item": "https://www.silvernestpestcontrol.com/quote-calculator"
              }
            ]
          },
          {
            "@type": "FAQPage",
            "@id": "https://www.silvernestpestcontrol.com/quote-calculator#faq",
            "mainEntity": [
              {
                "@type": "Question",
                "name": "How accurate is the online quote calculator?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "Our quote calculator provides real-time estimates based on current pricing. Final quotes may be adjusted after an on-site inspection to ensure accuracy for your specific situation."
                }
              },
              {
                "@type": "Question",
                "name": "What areas do you serve in Montreal?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "We serve Montreal and surrounding areas including Laval, Longueuil, Brossard, West Island, South Shore, and North Shore with professional pest control services."
                }
              },
              {
                "@type": "Question",
                "name": "Do you offer same-day pest control service?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "Yes, we offer same-day and emergency pest control services in Montreal. Contact us via WhatsApp at +1 (514) 582-4400 for fastest response within 1 hour."
                }
              },
              {
                "@type": "Question",
                "name": "What types of pests do you control?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "We control all types of pests including mice, rats, ants, spiders, cockroaches, bed bugs, wasps, fleas, silverfish, earwigs, centipedes, carpenter ants, and fruit flies."
                }
              },
              {
                "@type": "Question",
                "name": "Are your pest control methods safe?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "Yes, we use eco-friendly and safe pest control methods that are effective against pests while being safe for your family and pets when applied by our licensed professionals."
                }
              }
            ]
          },
          {
            "@type": "Product",
            "@id": "https://www.silvernestpestcontrol.com/#quote-calculator-tool",
            "name": "Free Pest Control Quote Calculator",
            "description": "Interactive online tool to calculate instant pest control quotes for Montreal residents",
            "brand": {
              "@id": "https://www.silvernestpestcontrol.com/#business"
            },
            "offers": {
              "@type": "Offer",
              "price": "0",
              "priceCurrency": "CAD",
              "availability": "https://schema.org/InStock",
              "validFrom": "2024-01-01",
              "priceValidUntil": "2025-12-31"
            },
            "aggregateRating": {
              "@type": "AggregateRating",
              "ratingValue": "4.9",
              "reviewCount": "89",
              "bestRating": "5",
              "worstRating": "1"
            }
          }
        ]
      }
    </script>

    <!-- Additional Structured Data for Calculator Tool -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Silver Nest Pest Control Quote Calculator",
        "description": "Free online calculator to get instant pest control quotes for Montreal homes and businesses",
        "url": "https://www.silvernestpestcontrol.com/quote-calculator",
        "applicationCategory": "UtilitiesApplication",
        "operatingSystem": "Web Browser",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "CAD"
        },
        "provider": {
          "@id": "https://www.silvernestpestcontrol.com/#business"
        },
        "featureList": [
          "Instant quote calculation",
          "Multiple pest types",
          "Property type selection",
          "Service frequency options",
          "Multi-language support",
          "Mobile responsive",
          "Real-time pricing"
        ]
      }
    </script>

    <!-- Rich Snippets for Reviews -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "@id": "https://www.silvernestpestcontrol.com/#organization",
        "name": "Silver Nest Pest Control",
        "url": "https://www.silvernestpestcontrol.com",
        "logo": "https://www.silvernestpestcontrol.com/images/silver-nest-pest-control-logo.jpg",
        "contactPoint": {
          "@type": "ContactPoint",
          "telephone": "+1-514-582-4400",
          "contactType": "customer service",
          "availableLanguage": ["English", "French"],
          "areaServed": "Montreal, Quebec, Canada"
        },
        "sameAs": [
          "https://www.facebook.com/silvernestpestcontrol",
          "https://www.google.com/maps/place/Silver+Nest+Pest+Control"
        ]
      }
    </script>

    <!-- Enhanced Mobile App Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta
      name="apple-mobile-web-app-title"
      content="SN Pest Control Calculator"
    />

    <!-- Performance and Security Headers -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="format-detection" content="telephone=yes" />
    <meta name="format-detection" content="address=yes" />

    <!-- Additional Local SEO -->
    <meta
      name="geo.placename"
      content="Montreal, Laval, Longueuil, Brossard, West Island, South Shore, North Shore"
    />
    <meta name="DC.coverage" content="Montreal Metropolitan Area" />
    <meta name="DC.creator" content="Silver Nest Pest Control" />
    <meta name="DC.publisher" content="Silver Nest Pest Control" />
    <!-- Schema.org structured data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "Silver Nest Pest Control",
        "image": "https://silvernestpestcontrol.com/images/logo.jpg",
        "description": "Professional pest control and extermination services in Montreal, Quebec. Specializing in residential and commercial pest management including rodents, insects, and comprehensive pest control solutions.",
        "address": {
          "@type": "PostalAddress",
          "streetAddress": "",
          "addressLocality": "Montreal",
          "addressRegion": "QC",
          "postalCode": "",
          "addressCountry": "CA"
        },
        "geo": {
          "@type": "GeoCoordinates",
          "latitude": 45.5017,
          "longitude": -73.5673
        },
        "url": "https://silvernestpestcontrol.com",
        "telephone": "+1-514-XXX-XXXX",
        "email": "info@silvernestpestcontrol.com",
        "openingHoursSpecification": [
          {
            "@type": "OpeningHoursSpecification",
            "dayOfWeek": [
              "Monday",
              "Tuesday",
              "Wednesday",
              "Thursday",
              "Friday"
            ],
            "opens": "08:00",
            "closes": "18:00"
          },
          {
            "@type": "OpeningHoursSpecification",
            "dayOfWeek": "Saturday",
            "opens": "09:00",
            "closes": "16:00"
          }
        ],
        "serviceArea": {
          "@type": "GeoCircle",
          "geoMidpoint": {
            "@type": "GeoCoordinates",
            "latitude": 45.5017,
            "longitude": -73.5673
          },
          "geoRadius": "50"
        },
        "areaServed": [
          "Montreal",
          "Laval",
          "Longueuil",
          "Brossard",
          "Saint-Laurent",
          "Verdun",
          "Dollard-Des Ormeaux",
          "Pointe-Claire",
          "Kirkland",
          "Beaconsfield",
          "West Island",
          "South Shore",
          "North Shore"
        ],
        "hasOfferCatalog": {
          "@type": "OfferCatalog",
          "name": "Pest Control Services",
          "itemListElement": [
            {
              "@type": "Offer",
              "itemOffered": {
                "@type": "Service",
                "name": "Rodent Control",
                "description": "Professional mice and rat removal and prevention services"
              }
            },
            {
              "@type": "Offer",
              "itemOffered": {
                "@type": "Service",
                "name": "Insect Control",
                "description": "Ant, spider, cockroach, and general insect extermination"
              }
            },
            {
              "@type": "Offer",
              "itemOffered": {
                "@type": "Service",
                "name": "Bed Bug Treatment",
                "description": "Complete bed bug elimination and prevention"
              }
            }
          ]
        },
        "priceRange": "$199-$999",
        "paymentAccepted": "Cash, Credit Card, Debit Card, E-Transfer",
        "currenciesAccepted": "CAD",
        "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.8",
          "reviewCount": "127"
        }
      }
    </script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #1a1a1a;
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        min-height: 100vh;
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
        padding: 24px;
      }

      .header {
        text-align: center;
        margin-bottom: 40px;
        background: white;
        padding: 40px 30px;
        border-radius: 20px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        position: relative;
        overflow: hidden;
      }

      .header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #2e8b57, #20b2aa, #2e8b57);
      }

      .logo {
        font-size: 2.5rem;
        font-weight: 700;
        background: linear-gradient(135deg, #2e8b57, #20b2aa);
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 12px;
        letter-spacing: -0.5px;
      }

      .subtitle {
        color: #6c757d;
        font-size: 1.1rem;
        font-weight: 400;
      }

      .language-toggle {
        position: fixed;
        top: 24px;
        right: 24px;
        background: linear-gradient(135deg, #2e8b57, #20b2aa);
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 12px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(46, 139, 87, 0.3);
        z-index: 1000;
      }

      .progress-bar {
        display: flex;
        justify-content: space-between;
        margin-bottom: 40px;
        background: white;
        padding: 24px;
        border-radius: 16px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
      }

      .progress-step {
        flex: 1;
        text-align: center;
        padding: 16px 12px;
        border-radius: 12px;
        margin: 0 8px;
        background: #f8f9fa;
        color: #6c757d;
        font-weight: 600;
        font-size: 0.95rem;
        transition: all 0.4s ease;
        position: relative;
        border: 2px solid transparent;
      }

      .progress-step.active {
        background: linear-gradient(135deg, #2e8b57, #20b2aa);
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 8px 24px rgba(46, 139, 87, 0.3);
      }

      .progress-step.completed {
        background: linear-gradient(135deg, #28a745, #20c997);
        color: white;
        border-color: #20c997;
      }

      .step {
        display: none;
        background: white;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 12px 48px rgba(0, 0, 0, 0.08);
        margin-bottom: 32px;
        position: relative;
      }

      .step.active {
        display: block;
        animation: fadeInUp 0.6s ease;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .step h2 {
        color: #2e8b57;
        margin-bottom: 32px;
        font-size: 1.8rem;
        font-weight: 700;
        letter-spacing: -0.3px;
      }

      .form-group {
        margin-bottom: 28px;
      }

      .form-group label {
        display: block;
        margin-bottom: 12px;
        font-weight: 600;
        color: #2d3748;
        font-size: 1rem;
      }

      .form-group input[type="text"],
      .form-group input[type="tel"] {
        width: 100%;
        padding: 16px 20px;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        font-size: 16px;
        transition: all 0.3s ease;
        background: #fafafa;
        font-family: inherit;
      }

      .form-group input:focus {
        outline: none;
        border-color: #2e8b57;
        background: white;
        box-shadow: 0 0 0 3px rgba(46, 139, 87, 0.1);
      }

      .radio-group {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .radio-option {
        display: flex;
        align-items: center;
        padding: 20px;
        border: 2px solid #e2e8f0;
        border-radius: 16px;
        cursor: pointer;
        transition: all 0.3s ease;
        background: #fafafa;
        position: relative;
      }

      .radio-option:hover {
        background: white;
        border-color: #2e8b57;
        transform: translateX(4px);
      }

      .radio-option.selected {
        background: linear-gradient(135deg, #e8f5e8, #f0fff4);
        border-color: #2e8b57;
        box-shadow: 0 4px 16px rgba(46, 139, 87, 0.15);
      }

      .radio-option input[type="radio"] {
        margin-right: 16px;
        transform: scale(1.2);
      }

      .info-box {
        background: linear-gradient(135deg, #e8f5e8, #f0fff4);
        border: 2px solid #2e8b57;
        border-radius: 16px;
        padding: 24px;
        margin-top: 24px;
        display: none;
        font-weight: 500;
        line-height: 1.6;
      }

      .info-box.show {
        display: block;
        animation: slideDown 0.4s ease;
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          max-height: 0;
          padding-top: 0;
          padding-bottom: 0;
        }
        to {
          opacity: 1;
          max-height: 200px;
          padding-top: 24px;
          padding-bottom: 24px;
        }
      }

      .services-section {
        margin-bottom: 40px;
      }

      .services-section h3 {
        color: #2e8b57;
        margin-bottom: 24px;
        font-size: 1.4rem;
        font-weight: 700;
      }

      .package-card,
      .service-card {
        border: 2px solid #e2e8f0;
        border-radius: 16px;
        padding: 24px;
        margin-bottom: 16px;
        cursor: pointer;
        transition: all 0.3s ease;
        background: #fafafa;
        position: relative;
      }

      .package-card:hover,
      .service-card:hover {
        border-color: #2e8b57;
        background: white;
        transform: translateY(-2px);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
      }

      .package-card.selected,
      .service-card.selected {
        border-color: #2e8b57;
        background: linear-gradient(135deg, #e8f5e8, #f0fff4);
        box-shadow: 0 8px 24px rgba(46, 139, 87, 0.15);
      }

      .package-card h4 {
        color: #2e8b57;
        margin-bottom: 8px;
        font-size: 1.2rem;
        font-weight: 700;
      }

      .package-includes {
        font-size: 0.95rem;
        color: #6c757d;
        font-style: italic;
        font-weight: 500;
      }

      .service-info {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 16px;
      }

      .service-details {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .pest-image {
        width: 50px;
        height: 50px;
        border-radius: 8px;
        object-fit: cover;
        border: 2px solid #e2e8f0;
        transition: all 0.3s ease;
      }

      .service-card.selected .pest-image {
        border-color: #2e8b57;
        box-shadow: 0 2px 8px rgba(46, 139, 87, 0.3);
      }

      .service-info strong {
        font-size: 1.1rem;
        color: #2d3748;
        font-weight: 700;
      }

      .severity-controls {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
      }

      .severity-btn {
        padding: 8px 16px;
        border: 2px solid #e2e8f0;
        background: white;
        border-radius: 8px;
        cursor: pointer;
        font-size: 0.85rem;
        font-weight: 600;
        transition: all 0.3s ease;
        color: #6c757d;
      }

      .severity-btn:hover {
        border-color: #2e8b57;
        color: #2e8b57;
      }

      .severity-btn.selected {
        background: linear-gradient(135deg, #2e8b57, #20b2aa);
        color: white;
        border-color: #2e8b57;
        box-shadow: 0 4px 12px rgba(46, 139, 87, 0.3);
      }

      .pro-tip {
        background: linear-gradient(135deg, #fff3cd, #ffeaa7);
        border: 2px solid #ffd700;
        border-radius: 12px;
        padding: 16px;
        margin-top: 16px;
        font-size: 0.9rem;
        font-weight: 500;
        display: none;
        line-height: 1.5;
      }

      .pro-tip.show {
        display: block;
        animation: fadeIn 0.4s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .quote-summary {
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        border: 3px solid #2e8b57;
        border-radius: 20px;
        padding: 32px;
        margin-bottom: 32px;
        box-shadow: 0 12px 48px rgba(46, 139, 87, 0.1);
      }

      .quote-line {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 16px 0;
        border-bottom: 1px solid #dee2e6;
        font-weight: 500;
        font-size: 1rem;
      }

      .quote-line:last-child {
        border-bottom: none;
        font-weight: 700;
        font-size: 1.3rem;
        color: #2e8b57;
        background: linear-gradient(135deg, #e8f5e8, #f0fff4);
        margin: 16px -32px -32px;
        padding: 24px 32px;
        border-radius: 0 0 17px 17px;
      }

      .tooltip {
        position: relative;
        cursor: help;
        margin-left: 8px;
        color: #2e8b57;
        font-weight: 600;
        width: 20px;
        height: 20px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: rgba(46, 139, 87, 0.1);
        border-radius: 50%;
        font-size: 12px;
      }

      .tooltip:hover::after {
        content: attr(data-tooltip);
        position: absolute;
        bottom: 100%;
        left: 50%;
        transform: translateX(-50%);
        background: #2d3748;
        color: white;
        padding: 8px 12px;
        border-radius: 8px;
        white-space: nowrap;
        z-index: 1000;
        font-size: 0.8rem;
        font-weight: 500;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      .navigation {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 40px;
        gap: 20px;
      }

      .navigation > div {
        display: flex;
        gap: 16px;
      }

      .btn {
        padding: 16px 32px;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        font-size: 16px;
        font-weight: 600;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-family: inherit;
        min-width: 120px;
      }

      .btn-primary {
        background: linear-gradient(135deg, #2e8b57, #20b2aa);
        color: white;
        box-shadow: 0 4px 16px rgba(46, 139, 87, 0.3);
      }

      .btn-primary:hover:not(:disabled) {
        transform: translateY(-2px);
        box-shadow: 0 8px 24px rgba(46, 139, 87, 0.4);
      }

      .btn-secondary {
        background: linear-gradient(135deg, #6c757d, #5a6268);
        color: white;
        box-shadow: 0 4px 16px rgba(108, 117, 125, 0.3);
      }

      .btn-secondary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 24px rgba(108, 117, 125, 0.4);
      }

      .btn-danger {
        background: linear-gradient(135deg, #dc3545, #c82333);
        color: white;
        box-shadow: 0 4px 16px rgba(220, 53, 69, 0.3);
      }

      .btn-danger:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 24px rgba(220, 53, 69, 0.4);
      }

      .btn:disabled {
        background: #e9ecef;
        color: #6c757d;
        cursor: not-allowed;
        box-shadow: none;
        transform: none;
      }

      .copy-btn {
        background: linear-gradient(135deg, #17a2b8, #138496);
        color: white;
        margin-bottom: 16px;
        box-shadow: 0 4px 16px rgba(23, 162, 184, 0.3);
        width: 100%;
      }

      .copy-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 24px rgba(23, 162, 184, 0.4);
      }

      .contact-info {
        text-align: center;
        margin: 16px 0;
      }

      .email-info,
      .phone-info,
      .address-info {
        color: #6c757d;
        font-weight: 600;
        font-size: 1rem;
        padding: 8px;
        background: #f8f9fa;
        border-radius: 8px;
        border: 2px solid #e9ecef;
        margin-bottom: 8px;
      }

      .whatsapp-info {
        color: #25d366;
        font-weight: 600;
        font-size: 1.1rem;
        padding: 12px;
        background: linear-gradient(135deg, #e8f5e8, #f0fff4);
        border-radius: 8px;
        border: 2px solid #25d366;
        margin-bottom: 8px;
      }

      .next-steps {
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        border: 2px solid #dee2e6;
        border-radius: 16px;
        padding: 24px;
        margin-top: 24px;
      }

      .next-steps h4 {
        color: #2e8b57;
        margin-bottom: 16px;
        font-size: 1.2rem;
        font-weight: 700;
      }

      .steps-list {
        margin-bottom: 20px;
      }

      .step-item {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 12px;
        padding: 12px;
        background: white;
        border-radius: 10px;
        border-left: 4px solid #2e8b57;
      }

      .step-number {
        background: linear-gradient(135deg, #2e8b57, #20b2aa);
        color: white;
        width: 28px;
        height: 28px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 0.9rem;
        flex-shrink: 0;
      }

      .bedbug-pricing-info {
        margin: 12px 0;
        padding: 12px;
        background: linear-gradient(135deg, #fff3cd, #ffeaa7);
        border: 2px solid #ffc107;
        border-radius: 8px;
        font-size: 0.9rem;
        line-height: 1.4;
      }

      .bedbug-pricing-info strong {
        color: #856404;
      }

      .whatsapp-emphasis {
        background: linear-gradient(135deg, #e8f5e8, #f0fff4);
        border: 2px solid #25d366;
        border-radius: 12px;
        padding: 16px;
        text-align: center;
        color: #155724;
      }

      .disclaimer {
        background: linear-gradient(135deg, #f8d7da, #f5c6cb);
        border: 2px solid #f5c6cb;
        color: #721c24;
        padding: 20px;
        border-radius: 16px;
        margin-bottom: 24px;
        font-size: 0.95rem;
        font-weight: 500;
        line-height: 1.5;
      }

      .footer {
        background: white;
        padding: 32px;
        border-radius: 20px;
        box-shadow: 0 12px 48px rgba(0, 0, 0, 0.08);
        text-align: center;
        color: #6c757d;
        font-size: 0.95rem;
        line-height: 1.6;
        font-weight: 500;
        margin-top: 40px;
      }

      .error-message {
        color: #dc3545;
        font-size: 0.9rem;
        margin-top: 8px;
        display: none;
        font-weight: 600;
        padding: 8px 12px;
        background: rgba(220, 53, 69, 0.1);
        border-radius: 8px;
        border-left: 4px solid #dc3545;
      }

      .success-message {
        color: #28a745;
        font-size: 0.9rem;
        margin-top: 8px;
        display: none;
        font-weight: 600;
        padding: 8px 12px;
        background: rgba(40, 167, 69, 0.1);
        border-radius: 8px;
        border-left: 4px solid #28a745;
      }

      /* Promo code styling */
      .form-group > div {
        margin-bottom: 12px;
      }

      @media (max-width: 768px) {
        .container {
          padding: 16px;
        }

        .header {
          padding: 32px 24px;
          margin-bottom: 32px;
        }

        .logo {
          font-size: 2rem;
        }

        .subtitle {
          font-size: 1rem;
        }

        .step {
          padding: 32px 24px;
        }

        .step h2 {
          font-size: 1.5rem;
          margin-bottom: 24px;
        }

        .progress-bar {
          flex-direction: column;
          gap: 12px;
          padding: 20px;
        }

        .progress-step {
          margin: 0;
          padding: 16px;
        }

        .radio-group {
          gap: 12px;
        }

        .radio-option {
          padding: 16px;
        }

        .severity-controls {
          flex-wrap: wrap;
          gap: 8px;
        }

        .navigation {
          flex-direction: column;
          gap: 16px;
        }

        .navigation > div {
          width: 100%;
          justify-content: center;
        }

        .btn {
          min-width: 140px;
          padding: 14px 24px;
        }

        .language-toggle {
          position: fixed;
          top: 16px;
          right: 16px;
          padding: 10px 16px;
          font-size: 13px;
          z-index: 1000;
        }

        .service-info {
          flex-direction: column;
          align-items: flex-start;
          gap: 12px;
        }

        .service-details {
          width: 100%;
          justify-content: space-between;
        }

        .pest-image {
          width: 40px;
          height: 40px;
        }

        .quote-summary {
          padding: 24px;
        }

        .quote-line:last-child {
          margin: 16px -24px -24px;
          padding: 20px 24px;
        }
      }

      @media (max-width: 480px) {
        .container {
          padding: 12px;
        }

        .header {
          padding: 24px 20px;
        }

        .step {
          padding: 24px 20px;
        }

        .navigation > div {
          flex-direction: column;
          gap: 12px;
        }

        .btn {
          width: 100%;
        }

        .language-toggle {
          top: 12px;
          right: 12px;
          padding: 8px 14px;
          font-size: 12px;
        }
      }

      .language-dropdown {
        position: fixed;
        top: 24px;
        right: 24px;
        z-index: 1000;
      }

      .language-select {
        border: none;
        padding: 12px 40px 12px 16px;
        border-radius: 12px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(46, 139, 87, 0.3);
        min-width: 120px;
        font-family: inherit;
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        background-repeat: no-repeat;
        background-position: right 12px center;
        background-size: 16px;
        position: relative;
      }

      .language-select:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(46, 139, 87, 0.4);
        background: linear-gradient(135deg, #20b2aa, #2e8b57);
      }

      .language-select:focus {
        outline: none;
        box-shadow: 0 0 0 3px rgba(46, 139, 87, 0.2);
        transform: translateY(-1px);
      }

      .language-select:active {
        transform: translateY(0);
        box-shadow: 0 4px 12px rgba(46, 139, 87, 0.3);
      }

      .language-select option {
        color: #2d3748;
        padding: 12px 16px;
        font-weight: 500;
        border: none;
        font-family: inherit;
      }

      .language-select option:checked {
        background: linear-gradient(135deg, #2e8b57, #20b2aa);
        color: black;
        font-weight: 600;
      }

      /* Custom dropdown arrow animation */
      .language-select::after {
        content: "";
        position: absolute;
        right: 12px;
        top: 50%;
        transform: translateY(-50%);
        width: 0;
        height: 0;
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
        border-top: 6px solid black;
        pointer-events: none;
        transition: transform 0.3s ease;
      }

      /* Enhanced modern styling */
      .language-dropdown::before {
        content: "";
        position: absolute;
        top: -2px;
        left: -2px;
        right: -2px;
        bottom: -2px;
        background: linear-gradient(45deg, #2e8b57, #20b2aa, #2e8b57);
        border-radius: 14px;
        z-index: -1;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .language-dropdown:hover::before {
        opacity: 1;
        animation: borderGlow 2s ease-in-out infinite alternate;
      }

      @keyframes borderGlow {
        0% {
          background: linear-gradient(45deg, #2e8b57, #20b2aa, #2e8b57);
        }
        100% {
          background: linear-gradient(45deg, #20b2aa, #2e8b57, #20b2aa);
        }
      }

      /* Mobile responsiveness */
      @media (max-width: 768px) {
        .language-dropdown {
          top: 16px;
          right: 16px;
        }

        .language-select {
          padding: 10px 36px 10px 14px;
          font-size: 13px;
          min-width: 100px;
          background-size: 14px;
          background-position: right 10px center;
        }
      }

      @media (max-width: 480px) {
        .language-dropdown {
          top: 12px;
          right: 12px;
        }

        .language-select {
          padding: 8px 32px 8px 12px;
          font-size: 12px;
          min-width: 90px;
          background-size: 12px;
          background-position: right 8px center;
          border-radius: 10px;
        }

        .language-dropdown::before {
          border-radius: 12px;
        }
      }

      /* Accessibility improvements */
      .language-select:focus-visible {
        outline: 2px solid #2e8b57;
        outline-offset: 2px;
      }
    </style>
  </head>
  <body>
    <div class="language-dropdown">
      <select class="language-select" onchange="changeLanguage(this.value)">
        <option value="en">English</option>
        <option value="fr">Français</option>
        <option value="es">Español</option>
        <option value="zh">中文</option>
        <option value="it">Italiano</option>
        <option value="fa">فارسی</option>
        <option value="ar">العربية</option>
      </select>
    </div>
    <!-- <button class="language-toggle" onclick="toggleLanguage()">EN / FR</button> -->

    <div class="container">
      <div class="header">
        <div class="logo">SN Pest Control</div>
        <p
          class="subtitle"
          data-en="Say Goodbye to Pests, Hello to Peace!"
          data-fr="Dites Adieu aux Nuisibles, Bonjour à la Paix!"
          data-es="¡Despídete de las Plagas, Hola a la Paz!"
          data-zh="告别害虫，迎接安宁！"
          data-it="Dì Addio ai Parassiti, Ciao alla Pace!"
          data-fa="با آفات خداحافظی کنید، با آرامش سلام کنید!"
          data-ar="قل وداعاً للآفات، مرحباً بالسلام!"
        >
          Say Goodbye to Pests, Hello to Peace!
        </p>
      </div>

      <div class="progress-bar">
        <div class="progress-step active" data-step="1">
          <span
            class="step-text"
            data-en="Step 1: Your Info"
            data-fr="Étape 1: Vos Infos"
            data-es="Paso 1: Tu Información"
            data-zh="步骤1：您的信息"
            data-it="Passo 1: Le Tue Informazioni"
            data-fa="مرحله 1: اطلاعات شما"
            data-ar="الخطوة 1: معلوماتك"
          >
            Step 1: Your Info
          </span>
        </div>
        <div class="progress-step" data-step="2">
          <span
            class="step-text"
            data-en="Step 2: Pest Details"
            data-fr="Étape 2: Détails des Nuisibles"
            data-es="Paso 2: Detalles de Plagas"
            data-zh="步骤2：害虫详情"
            data-it="Passo 2: Dettagli dei Parassiti"
            data-fa="مرحله 2: جزئیات آفات"
            data-ar="الخطوة 2: تفاصيل الآفات"
          >
            Step 2: Pest Details
          </span>
        </div>
        <div class="progress-step" data-step="3">
          <span
            class="step-text"
            data-en="Step 3: Your Quote"
            data-fr="Étape 3: Votre Devis"
            data-es="Paso 3: Tu Cotización"
            data-zh="步骤3：您的报价"
            data-it="Passo 3: Il Tuo Preventivo"
            data-fa="مرحله 3: قیمت شما"
            data-ar="الخطوة 3: عرض الأسعار"
          >
            Step 3: Your Quote
          </span>
        </div>
      </div>

      <!-- Step 1: Your Info -->
      <div class="step active" id="step1">
        <h2
          data-en="Your Information & Service Plan"
          data-fr="Vos Informations & Plan de Service"
          data-es="Tu Información y Plan de Servicio"
          data-zh="您的信息和服务计划"
          data-it="Le Tue Informazioni e Piano di Servizio"
          data-fa="اطلاعات شما و برنامه خدمات"
          data-ar="معلوماتك وخطة الخدمة"
        >
          Your Information & Service Plan
        </h2>

        <div class="form-group">
          <label
            data-en="Street Address (Optional)"
            data-fr="Adresse (Optionnel)"
            data-es="Dirección (Opcional)"
            data-zh="街道地址（可选）"
            data-it="Indirizzo (Opzionale)"
            data-fa="آدرس خیابان (اختیاری)"
            data-ar="عنوان الشارع (اختياري)"
          >
            Street Address (Optional)
          </label>
          <input type="text" id="address" placeholder="" />
        </div>

        <div class="form-group">
          <label
            data-en="Phone Number (Optional)"
            data-fr="Numéro de Téléphone (Optionnel)"
            data-es="Número de Teléfono (Opcional)"
            data-zh="电话号码（可选）"
            data-it="Numero di Telefono (Opzionale)"
            data-fa="شماره تلفن (اختیاری)"
            data-ar="رقم الهاتف (اختياري)"
          >
            Phone Number (Optional)
          </label>
          <input type="tel" id="phone" placeholder="" />
        </div>

        <div class="form-group">
          <label
            data-en="Property Type *"
            data-fr="Type de Propriété *"
            data-es="Tipo de Propiedad *"
            data-zh="物业类型 *"
            data-it="Tipo di Proprietà *"
            data-fa="نوع ملک *"
            data-ar="نوع العقار *"
          >
            Property Type *
          </label>
          <div class="radio-group" id="propertyType">
            <div class="radio-option" data-value="apartment">
              <input type="radio" name="property" value="apartment" />
              <span
                data-en="Apartment/Condo"
                data-fr="Appartement/Condo"
                data-es="Apartamento/Condominio"
                data-zh="公寓/共管公寓"
                data-it="Appartamento/Condominio"
                data-fa="آپارتمان/کاندو"
                data-ar="شقة/وحدة سكنية"
              >
                Apartment/Condo
              </span>
            </div>
            <div class="radio-option" data-value="townhouse">
              <input type="radio" name="property" value="townhouse" />
              <span
                data-en="Townhouse"
                data-fr="Maison de Ville"
                data-es="Casa Adosada"
                data-zh="联排别墅"
                data-it="Casa a Schiera"
                data-fa="خانه شهری"
                data-ar="منزل مترابط"
              >
                Townhouse
              </span>
            </div>
            <div class="radio-option" data-value="detached-small">
              <input type="radio" name="property" value="detached-small" />
              <span
                data-en="Detached Home (<2500 sq ft)"
                data-fr="Maison Individuelle (<2500 pi²)"
                data-es="Casa Independiente (<2500 pies²)"
                data-zh="独立房屋（<2500平方英尺）"
                data-it="Casa Indipendente (<2500 piedi²)"
                data-fa="خانه مستقل (<2500 فوت مربع)"
                data-ar="منزل منفصل (<2500 قدم مربع)"
              >
                Detached Home (&lt;2500 sq ft)
              </span>
            </div>
            <div class="radio-option" data-value="detached-large">
              <input type="radio" name="property" value="detached-large" />
              <span
                data-en="Detached Home (>2500 sq ft)"
                data-fr="Maison Individuelle (>2500 pi²)"
                data-es="Casa Independiente (>2500 pies²)"
                data-zh="独立房屋（>2500平方英尺）"
                data-it="Casa Indipendente (>2500 piedi²)"
                data-fa="خانه مستقل (>2500 فوت مربع)"
                data-ar="منزل منفصل (>2500 قدم مربع)"
              >
                Detached Home (>2500 sq ft)
              </span>
            </div>
            <div class="radio-option" data-value="commercial">
              <input type="radio" name="property" value="commercial" />
              <span
                data-en="Commercial Business"
                data-fr="Entreprise Commerciale"
                data-es="Negocio Comercial"
                data-zh="商业企业"
                data-it="Attività Commerciale"
                data-fa="کسب و کار تجاری"
                data-ar="شركة تجارية"
              >
                Commercial Business
              </span>
            </div>
          </div>
          <div
            class="error-message"
            id="propertyError"
            data-en="Please select a property type."
            data-fr="Veuillez sélectionner un type de propriété."
            data-es="Por favor selecciona un tipo de propiedad."
            data-zh="请选择物业类型。"
            data-it="Seleziona un tipo di proprietà."
            data-fa="لطفاً نوع ملک را انتخاب کنید."
            data-ar="يرجى اختيار نوع العقار."
          >
            Please select a property type.
          </div>
        </div>

        <div class="form-group">
          <label
            data-en="Service Frequency *"
            data-fr="Fréquence de Service *"
            data-es="Frecuencia de Servicio *"
            data-zh="服务频率 *"
            data-it="Frequenza del Servizio *"
            data-fa="تکرار خدمات *"
            data-ar="تكرار الخدمة *"
          >
            Service Frequency *
          </label>
          <div class="radio-group" id="serviceFrequency">
            <div class="radio-option" data-value="one-time">
              <input type="radio" name="frequency" value="one-time" />
              <span
                data-en="One-Time Service"
                data-fr="Service Ponctuel"
                data-es="Servicio Único"
                data-zh="一次性服务"
                data-it="Servizio Una Tantum"
                data-fa="خدمات یکباره"
                data-ar="خدمة لمرة واحدة"
              >
                One-Time Service
              </span>
            </div>
            <div class="radio-option" data-value="seasonal">
              <input type="radio" name="frequency" value="seasonal" />
              <span
                data-en="Seasonal Plan"
                data-fr="Plan Saisonnier"
                data-es="Plan Estacional"
                data-zh="季节性计划"
                data-it="Piano Stagionale"
                data-fa="برنامه فصلی"
                data-ar="خطة موسمية"
              >
                Seasonal Plan
              </span>
            </div>
            <div class="radio-option" data-value="monthly">
              <input type="radio" name="frequency" value="monthly" />
              <span
                data-en="Monthly Plan"
                data-fr="Plan Mensuel"
                data-es="Plan Mensual"
                data-zh="月度计划"
                data-it="Piano Mensile"
                data-fa="برنامه ماهانه"
                data-ar="خطة شهرية"
              >
                Monthly Plan
              </span>
            </div>
          </div>
          <div
            class="error-message"
            id="frequencyError"
            data-en="Please select a service frequency."
            data-fr="Veuillez sélectionner une fréquence de service."
            data-es="Por favor selecciona una frecuencia de servicio."
            data-zh="请选择服务频率。"
            data-it="Seleziona una frequenza del servizio."
            data-fa="لطفاً تکرار خدمات را انتخاب کنید."
            data-ar="يرجى اختيار تكرار الخدمة."
          >
            Please select a service frequency.
          </div>
        </div>

        <div class="form-group" id="protectionPlanGroup" style="display: none">
          <label
            data-en="Extended Protection Plan (Optional)"
            data-fr="Plan de Protection Étendu (Optionnel)"
            >Extended Protection Plan (Optional)</label
          >
          <div class="radio-group" id="protectionPlan">
            <div class="radio-option" data-value="none">
              <input type="radio" name="protection" value="none" checked />
              <span data-en="No Extended Plan" data-fr="Aucun Plan Étendu"
                >No Extended Plan</span
              >
            </div>
            <div class="radio-option" data-value="4-month">
              <input type="radio" name="protection" value="4-month" />
              <span
                data-en="4-Month Guarantee - $40"
                data-fr="Garantie 4 Mois - 40$"
                >4-Month Guarantee - $40</span
              >
            </div>
            <div class="radio-option" data-value="6-month">
              <input type="radio" name="protection" value="6-month" />
              <span
                data-en="6-Month Guarantee - $50"
                data-fr="Garantie 6 Mois - 50$"
                >6-Month Guarantee - $50</span
              >
            </div>
            <div class="radio-option" data-value="1-year">
              <input type="radio" name="protection" value="1-year" />
              <span
                data-en="1-Year Guarantee - $60 (Best Value!)"
                data-fr="Garantie 1 An - 60$ (Meilleure Valeur!)"
                >1-Year Guarantee - $60 (Best Value!)</span
              >
            </div>
          </div>
        </div>

        <div class="info-box" id="planInfo"></div>

        <div
          class="info-box"
          id="protectionPlanInfo"
          style="
            background: linear-gradient(135deg, #e8f5e8, #f0fff4);
            border-color: #2e8b57;
          "
        >
          <strong
            data-en="💎 Add Extended Protection for Peace of Mind!"
            data-fr="💎 Ajoutez une Protection Étendue pour votre Tranquillité d'Esprit!"
            >💎 Add Extended Protection for Peace of Mind!</strong
          ><br />
          <span
            data-en="Our Extended Protection Plans provide guaranteed coverage with follow-up treatments if pests return. Choose from 4-month, 6-month, or 1-year guarantee options below."
            data-fr="Nos Plans de Protection Étendue offrent une couverture garantie avec des traitements de suivi si les nuisibles reviennent. Choisissez parmi les options de garantie de 4 mois, 6 mois ou 1 an ci-dessous."
            >Our Extended Protection Plans provide guaranteed coverage with
            follow-up treatments if pests return. Choose from 4-month, 6-month,
            or 1-year guarantee options below.</span
          >
        </div>
      </div>

      <!-- Step 2: Pest Details -->
      <div class="step" id="step2">
        <h2
          data-en="Pest Details & Severity"
          data-fr="Détails des Nuisibles & Gravité"
        >
          Pest Details & Severity
        </h2>

        <div class="services-section">
          <h3 data-en="Service Packages" data-fr="Forfaits de Service">
            Service Packages
          </h3>

          <div class="package-card" data-package="rodent-family">
            <h4 data-en="The Rodent Family" data-fr="La Famille des Rongeurs">
              The Rodent Family
            </h4>
            <div
              class="package-includes"
              data-en="Includes: Mice, Rats"
              data-fr="Inclus: Souris, Rats"
            >
              Includes: Mice, Rats
            </div>
          </div>

          <div class="package-card" data-package="crawling-defense">
            <h4
              data-en="Crawling Insect Defense"
              data-fr="Défense contre les Insectes Rampants"
            >
              Crawling Insect Defense
            </h4>
            <div
              class="package-includes"
              data-en="Includes: Ants, Spiders, Cockroaches"
              data-fr="Inclus: Fourmis, Araignées, Cafards"
            >
              Includes: Ants, Spiders, Cockroaches
            </div>
          </div>

          <div class="package-card" data-package="general-guard">
            <h4
              data-en="General Home Guard"
              data-fr="Protection Générale du Foyer"
            >
              General Home Guard
            </h4>
            <div
              class="package-includes"
              data-en="Includes: Ants, Spiders, Mice"
              data-fr="Inclus: Fourmis, Araignées, Souris"
            >
              Includes: Ants, Spiders, Mice
            </div>
          </div>
        </div>

        <div class="services-section">
          <h3 data-en="Individual Services" data-fr="Services Individuels">
            Individual Services
          </h3>

          <div class="services-section">
            <h3 data-en="Individual Services" data-fr="Services Individuels">
              Individual Services
            </h3>

            <!-- Most Common Pests First -->
            <div class="service-card" data-service="ants">
              <div class="service-info">
                <div class="service-details">
                  <strong data-en="Ants" data-fr="Fourmis">Ants</strong>
                  <img
                    src="images/ants.jpeg"
                    alt="Ants"
                    class="pest-image"
                  />
                </div>
                <div class="severity-controls">
                  <button
                    class="severity-btn"
                    data-severity="low"
                    data-en="Low"
                    data-fr="Faible"
                  >
                    Low
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="medium"
                    data-en="Medium"
                    data-fr="Moyen"
                  >
                    Medium
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="high"
                    data-en="High"
                    data-fr="Élevé"
                  >
                    High
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="no-idea"
                    data-en="No idea"
                    data-fr="Aucune idée"
                  >
                    No idea
                  </button>
                </div>
              </div>
              <div
                class="pro-tip"
                data-en="Pro Tip: Ants follow scent trails to food sources. Eliminating these trails and food access is crucial for control."
                data-fr="Conseil Pro: Les fourmis suivent les pistes odorantes vers les sources de nourriture. Éliminer ces pistes et l'accès à la nourriture est crucial pour le contrôle."
              >
                Pro Tip: Ants follow scent trails to food sources. Eliminating
                these trails and food access is crucial for control.
              </div>
            </div>

            <div class="service-card" data-service="mice">
              <div class="service-info">
                <div class="service-details">
                  <strong data-en="Mice" data-fr="Souris">Mice</strong>
                  <img
                    src="images/mice.jpeg"
                    alt="Mice"
                    class="pest-image"
                  />
                </div>
                <div class="severity-controls">
                  <button
                    class="severity-btn"
                    data-severity="low"
                    data-en="Low"
                    data-fr="Faible"
                  >
                    Low
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="medium"
                    data-en="Medium"
                    data-fr="Moyen"
                  >
                    Medium
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="high"
                    data-en="High"
                    data-fr="Élevé"
                  >
                    High
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="no-idea"
                    data-en="No idea"
                    data-fr="Aucune idée"
                  >
                    No idea
                  </button>
                </div>
              </div>
              <div
                class="pro-tip"
                data-en="Pro Tip: Mice can contaminate food and spread diseases. Prevention through proper food storage is key."
                data-fr="Conseil Pro: Les souris peuvent contaminer la nourriture et propager des maladies. La prévention par un stockage approprié des aliments est essentielle."
              >
                Pro Tip: Mice can contaminate food and spread diseases.
                Prevention through proper food storage is key.
              </div>
            </div>

            <div class="service-card" data-service="spiders">
              <div class="service-info">
                <div class="service-details">
                  <strong data-en="Spiders" data-fr="Araignées">Spiders</strong>
                  <img
                    src="images/spiders.jpeg"
                    alt="Spiders"
                    class="pest-image"
                  />
                </div>
                <div class="severity-controls">
                  <button
                    class="severity-btn"
                    data-severity="low"
                    data-en="Low"
                    data-fr="Faible"
                  >
                    Low
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="medium"
                    data-en="Medium"
                    data-fr="Moyen"
                  >
                    Medium
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="high"
                    data-en="High"
                    data-fr="Élevé"
                  >
                    High
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="no-idea"
                    data-en="No idea"
                    data-fr="Aucune idée"
                  >
                    No idea
                  </button>
                </div>
              </div>
              <div
                class="pro-tip"
                data-en="Pro Tip: Spiders are natural pest controllers, but large populations can indicate other pest issues. Regular cleaning helps prevent infestations."
                data-fr="Conseil Pro: Les araignées sont des contrôleurs naturels de nuisibles, mais de grandes populations peuvent indiquer d'autres problèmes de nuisibles. Un nettoyage régulier aide à prévenir les infestations."
              >
                Pro Tip: Spiders are natural pest controllers, but large
                populations can indicate other pest issues. Regular cleaning
                helps prevent infestations.
              </div>
            </div>

            <div class="service-card" data-service="cockroaches">
              <div class="service-info">
                <div class="service-details">
                  <strong data-en="Cockroaches" data-fr="Cafards"
                    >Cockroaches</strong
                  >
                  <img
                    src="images/cockroaches.jpeg"
                    alt="Cockroaches"
                    class="pest-image"
                  />
                </div>
                <div class="severity-controls">
                  <button
                    class="severity-btn"
                    data-severity="low"
                    data-en="Low"
                    data-fr="Faible"
                  >
                    Low
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="medium"
                    data-en="Medium"
                    data-fr="Moyen"
                  >
                    Medium
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="high"
                    data-en="High"
                    data-fr="Élevé"
                  >
                    High
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="no-idea"
                    data-en="No idea"
                    data-fr="Aucune idée"
                  >
                    No idea
                  </button>
                </div>
              </div>
              <div
                class="pro-tip"
                data-en="Pro Tip: Cockroaches spread bacteria and allergens. They thrive in warm, moist environments. Professional treatment is often necessary for effective control."
                data-fr="Conseil Pro: Les cafards propagent des bactéries et des allergènes. Ils prospèrent dans des environnements chauds et humides. Un traitement professionnel est souvent nécessaire pour un contrôle efficace."
              >
                Pro Tip: Cockroaches spread bacteria and allergens. They thrive
                in warm, moist environments. Professional treatment is often
                necessary for effective control.
              </div>
            </div>

            <div class="service-card" data-service="rats">
              <div class="service-info">
                <div class="service-details">
                  <strong data-en="Rats" data-fr="Rats">Rats</strong>
                  <img
                    src="images/rats.jpeg"
                    alt="Rats"
                    class="pest-image"
                  />
                </div>
                <div class="severity-controls">
                  <button
                    class="severity-btn"
                    data-severity="low"
                    data-en="Low"
                    data-fr="Faible"
                  >
                    Low
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="medium"
                    data-en="Medium"
                    data-fr="Moyen"
                  >
                    Medium
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="high"
                    data-en="High"
                    data-fr="Élevé"
                  >
                    High
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="no-idea"
                    data-en="No idea"
                    data-fr="Aucune idée"
                  >
                    No idea
                  </button>
                </div>
              </div>
              <div
                class="pro-tip"
                data-en="Pro Tip: Rats can transmit diseases and damage property. Sealing entry points is the most effective long-term solution."
                data-fr="Conseil Pro: Les rats peuvent transmettre des maladies et endommager la propriété. Sceller les points d'entrée est la solution la plus efficace à long terme."
              >
                Pro Tip: Rats can transmit diseases and damage property. Sealing
                entry points is the most effective long-term solution.
              </div>
            </div>

            <div class="service-card" data-service="wasps">
              <div class="service-info">
                <div class="service-details">
                  <strong data-en="Wasps" data-fr="Guêpes">Wasps</strong>
                  <img
                    src="images/wasps.jpeg"
                    alt="Wasps"
                    class="pest-image"
                  />
                </div>
                <div class="severity-controls">
                  <button
                    class="severity-btn"
                    data-severity="low"
                    data-en="Low"
                    data-fr="Faible"
                  >
                    Low
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="medium"
                    data-en="Medium"
                    data-fr="Moyen"
                  >
                    Medium
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="high"
                    data-en="High"
                    data-fr="Élevé"
                  >
                    High
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="no-idea"
                    data-en="No idea"
                    data-fr="Aucune idée"
                  >
                    No idea
                  </button>
                </div>
              </div>
              <div
                class="pro-tip"
                data-en="Pro Tip: Wasps can be aggressive when their nest is threatened. Professional removal is recommended for safety."
                data-fr="Conseil Pro: Les guêpes peuvent être agressives lorsque leur nid est menacé. L'enlèvement professionnel est recommandé pour la sécurité."
              >
                Pro Tip: Wasps can be aggressive when their nest is threatened.
                Professional removal is recommended for safety.
              </div>
            </div>

            <div class="service-card" data-service="bedbugs">
              <div class="service-info">
                <div class="service-details">
                  <strong data-en="Bed Bugs" data-fr="Punaises de Lit"
                    >Bed Bugs</strong
                  >
                  <img
                    src="images/bedbugs.jpeg"
                    alt="Bed Bugs"
                    class="pest-image"
                  />
                </div>
                <div class="severity-controls">
                  <button
                    class="severity-btn"
                    data-severity="low"
                    data-en="Low"
                    data-fr="Faible"
                  >
                    Low
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="medium"
                    data-en="Medium"
                    data-fr="Moyen"
                  >
                    Medium
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="high"
                    data-en="High"
                    data-fr="Élevé"
                  >
                    High
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="no-idea"
                    data-en="No idea"
                    data-fr="Aucune idée"
                  >
                    No idea
                  </button>
                </div>
              </div>
              <div
                class="bedbug-pricing-info"
                style="
                  margin: 12px 0;
                  padding: 12px;
                  background: #fff3cd;
                  border: 1px solid #ffeaa7;
                  border-radius: 8px;
                  font-size: 0.9rem;
                "
              >
                <strong
                  data-en="Treatment Pricing:"
                  data-fr="Prix du Traitement:"
                  >Treatment Pricing:</strong
                ><br />
                <span
                  data-en="3½ rooms (Apartments): $150 | 4½ rooms (Townhouse): $200 | 5½ rooms (Large Homes): $250"
                  data-fr="3½ pièces (Appartements): 150$ | 4½ pièces (Maisons de ville): 200$ | 5½ pièces (Grandes maisons): 250$"
                  >3½ rooms (Apartments): $150 | 4½ rooms (Townhouse): $200 | 5½
                  rooms (Large Homes): $250</span
                ><br />
                <strong
                  data-en="2nd Treatment: $75 (if needed)"
                  data-fr="2e Traitement: 75$ (si nécessaire)"
                  >2nd Treatment: $75 (if needed)</strong
                >
              </div>
              <div
                class="pro-tip"
                data-en="Pro Tip: Bed bugs are notoriously difficult to eliminate. Early detection and professional treatment are essential for successful eradication. We offer a follow-up treatment at $75 if needed."
                data-fr="Conseil Pro: Les punaises de lit sont notoirement difficiles à éliminer. La détection précoce et le traitement professionnel sont essentiels pour une éradication réussie. Nous offrons un traitement de suivi à 75$ si nécessaire."
              >
                Pro Tip: Bed bugs are notoriously difficult to eliminate. Early
                detection and professional treatment are essential for
                successful eradication. We offer a follow-up treatment at $75 if
                needed.
              </div>
            </div>

            <div class="service-card" data-service="fleas">
              <div class="service-info">
                <div class="service-details">
                  <strong data-en="Fleas" data-fr="Puces">Fleas</strong>
                  <img
                    src="images/fleas.jpeg"
                    alt="Fleas"
                    class="pest-image"
                  />
                </div>
                <div class="severity-controls">
                  <button
                    class="severity-btn"
                    data-severity="low"
                    data-en="Low"
                    data-fr="Faible"
                  >
                    Low
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="medium"
                    data-en="Medium"
                    data-fr="Moyen"
                  >
                    Medium
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="high"
                    data-en="High"
                    data-fr="Élevé"
                  >
                    High
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="no-idea"
                    data-en="No idea"
                    data-fr="Aucune idée"
                  >
                    No idea
                  </button>
                </div>
              </div>
              <div
                class="pro-tip"
                data-en="Pro Tip: Fleas can jump long distances and reproduce rapidly. Pet treatment and environmental control are both necessary."
                data-fr="Conseil Pro: Les puces peuvent sauter de longues distances et se reproduire rapidement. Le traitement des animaux et le contrôle environnemental sont tous deux nécessaires."
              >
                Pro Tip: Fleas can jump long distances and reproduce rapidly.
                Pet treatment and environmental control are both necessary.
              </div>
            </div>

            <div class="service-card" data-service="silverfish">
              <div class="service-info">
                <div class="service-details">
                  <strong data-en="Silverfish" data-fr="Poissons d'Argent"
                    >Silverfish</strong
                  >
                  <img
                    src="images/silverfish.jpeg"
                    alt="Silverfish"
                    class="pest-image"
                  />
                </div>
                <div class="severity-controls">
                  <button
                    class="severity-btn"
                    data-severity="low"
                    data-en="Low"
                    data-fr="Faible"
                  >
                    Low
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="medium"
                    data-en="Medium"
                    data-fr="Moyen"
                  >
                    Medium
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="high"
                    data-en="High"
                    data-fr="Élevé"
                  >
                    High
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="no-idea"
                    data-en="No idea"
                    data-fr="Aucune idée"
                  >
                    No idea
                  </button>
                </div>
              </div>
              <div
                class="pro-tip"
                data-en="Pro Tip: Silverfish thrive in humid environments and feed on starchy materials. Reducing moisture and removing food sources helps control them."
                data-fr="Conseil Pro: Les poissons d'argent prospèrent dans des environnements humides et se nourrissent de matières féculentes. Réduire l'humidité et éliminer les sources de nourriture aide à les contrôler."
              >
                Pro Tip: Silverfish thrive in humid environments and feed on
                starchy materials. Reducing moisture and removing food sources
                helps control them.
              </div>
            </div>

            <div class="service-card" data-service="earwigs">
              <div class="service-info">
                <div class="service-details">
                  <strong data-en="Earwigs" data-fr="Perce-Oreilles"
                    >Earwigs</strong
                  >
                  <img
                    src="images/earwigs.jpeg"
                    alt="Earwigs"
                    class="pest-image"
                  />
                </div>
                <div class="severity-controls">
                  <button
                    class="severity-btn"
                    data-severity="low"
                    data-en="Low"
                    data-fr="Faible"
                  >
                    Low
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="medium"
                    data-en="Medium"
                    data-fr="Moyen"
                  >
                    Medium
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="high"
                    data-en="High"
                    data-fr="Élevé"
                  >
                    High
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="no-idea"
                    data-en="No idea"
                    data-fr="Aucune idée"
                  >
                    No idea
                  </button>
                </div>
              </div>
              <div
                class="pro-tip"
                data-en="Pro Tip: Earwigs prefer damp, dark spaces and are mostly active at night. Eliminating moisture and hiding spots reduces their population."
                data-fr="Conseil Pro: Les perce-oreilles préfèrent les espaces humides et sombres et sont principalement actifs la nuit. Éliminer l'humidité et les cachettes réduit leur population."
              >
                Pro Tip: Earwigs prefer damp, dark spaces and are mostly active
                at night. Eliminating moisture and hiding spots reduces their
                population.
              </div>
            </div>

            <div class="service-card" data-service="centipedes">
              <div class="service-info">
                <div class="service-details">
                  <strong data-en="Centipedes" data-fr="Mille-Pattes"
                    >Centipedes</strong
                  >
                  <img
                    src="images/centipedes.jpeg"
                    alt="Centipedes"
                    class="pest-image"
                  />
                </div>
                <div class="severity-controls">
                  <button
                    class="severity-btn"
                    data-severity="low"
                    data-en="Low"
                    data-fr="Faible"
                  >
                    Low
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="medium"
                    data-en="Medium"
                    data-fr="Moyen"
                  >
                    Medium
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="high"
                    data-en="High"
                    data-fr="Élevé"
                  >
                    High
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="no-idea"
                    data-en="No idea"
                    data-fr="Aucune idée"
                  >
                    No idea
                  </button>
                </div>
              </div>
              <div
                class="pro-tip"
                data-en="Pro Tip: Centipedes hunt other insects and prefer moist environments. Reducing humidity and sealing entry points helps control them."
                data-fr="Conseil Pro: Les mille-pattes chassent d'autres insectes et préfèrent les environnements humides. Réduire l'humidité et sceller les points d'entrée aide à les contrôler."
              >
                Pro Tip: Centipedes hunt other insects and prefer moist
                environments. Reducing humidity and sealing entry points helps
                control them.
              </div>
            </div>

            <div class="service-card" data-service="carpenter-ants">
              <div class="service-info">
                <div class="service-details">
                  <strong
                    data-en="Carpenter Ants"
                    data-fr="Fourmis Charpentières"
                    >Carpenter Ants</strong
                  >
                  <img
                    src="images/carpenter-ants.jpeg"
                    alt="Carpenter Ants"
                    class="pest-image"
                  />
                </div>
                <div class="severity-controls">
                  <button
                    class="severity-btn"
                    data-severity="low"
                    data-en="Low"
                    data-fr="Faible"
                  >
                    Low
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="medium"
                    data-en="Medium"
                    data-fr="Moyen"
                  >
                    Medium
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="high"
                    data-en="High"
                    data-fr="Élevé"
                  >
                    High
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="no-idea"
                    data-en="No idea"
                    data-fr="Aucune idée"
                  >
                    No idea
                  </button>
                </div>
              </div>
              <div
                class="pro-tip"
                data-en="Pro Tip: Carpenter ants damage wood structures by excavating galleries. Quick professional treatment prevents extensive structural damage."
                data-fr="Conseil Pro: Les fourmis charpentières endommagent les structures en bois en creusant des galeries. Un traitement professionnel rapide prévient des dommages structurels importants."
              >
                Pro Tip: Carpenter ants damage wood structures by excavating
                galleries. Quick professional treatment prevents extensive
                structural damage.
              </div>
            </div>

            <div class="service-card" data-service="fruit-flies">
              <div class="service-info">
                <div class="service-details">
                  <strong data-en="Fruit Flies" data-fr="Mouches à Fruits"
                    >Fruit Flies</strong
                  >
                  <img
                    src="images/fruit-flies.jpeg"
                    alt="Fruit Flies"
                    class="pest-image"
                  />
                </div>
                <div class="severity-controls">
                  <button
                    class="severity-btn"
                    data-severity="low"
                    data-en="Low"
                    data-fr="Faible"
                  >
                    Low
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="medium"
                    data-en="Medium"
                    data-fr="Moyen"
                  >
                    Medium
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="high"
                    data-en="High"
                    data-fr="Élevé"
                  >
                    High
                  </button>
                  <button
                    class="severity-btn"
                    data-severity="no-idea"
                    data-en="No idea"
                    data-fr="Aucune idée"
                  >
                    No idea
                  </button>
                </div>
              </div>
              <div
                class="pro-tip"
                data-en="Pro Tip: Fruit flies breed rapidly in fermenting organic matter. Removing breeding sources and thorough cleaning are essential for control."
                data-fr="Conseil Pro: Les mouches à fruits se reproduisent rapidement dans la matière organique en fermentation. Éliminer les sources de reproduction et un nettoyage approfondi sont essentiels pour le contrôle."
              >
                Pro Tip: Fruit flies breed rapidly in fermenting organic matter.
                Removing breeding sources and thorough cleaning are essential
                for control.
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Step 3: Quote -->
      <div class="step" id="step3">
        <h2 data-en="Your Quote" data-fr="Votre Devis">Your Quote</h2>

        <div
          class="disclaimer"
          data-en="This is a real-time estimate. Prices are subject to a final on-site inspection."
          data-fr="Ceci est une estimation en temps réel. Les prix sont sujets à une inspection finale sur place."
        >
          This is a real-time estimate. Prices are subject to a final on-site
          inspection.
        </div>

        <div class="form-group">
          <label
            data-en="Promo Code (Optional)"
            data-fr="Code Promo (Optionnel)"
            >Promo Code (Optional)</label
          >
          <div style="display: flex; gap: 10px">
            <input
              type="text"
              id="promoCode"
              placeholder="SILVER10"
              style="flex: 1"
            />
            <button
              class="btn btn-secondary"
              onclick="applyPromoCode()"
              data-en="Apply"
              data-fr="Appliquer"
            >
              Apply
            </button>
          </div>
          <div
            class="success-message"
            id="promoSuccess"
            data-en="Promo code applied!"
            data-fr="Code promo appliqué!"
          >
            Promo code applied!
          </div>
          <div
            class="error-message"
            id="promoError"
            data-en="Invalid promo code"
            data-fr="Code promo invalide"
          >
            Invalid promo code
          </div>
        </div>

        <div class="quote-summary" id="quoteSummary">
          <!-- Quote details will be populated here -->
        </div>

        <button
          class="btn copy-btn"
          onclick="copyQuote()"
          data-en="Copy Quote & Email Us"
          data-fr="Copier le Devis & Nous Envoyer un Email"
        >
          Copy Quote & Email Us
        </button>
        <div
          class="success-message"
          id="copySuccess"
          data-en="Copied to clipboard!"
          data-fr="Copié dans le presse-papiers!"
        >
          Copied to clipboard!
        </div>

        <div class="contact-info">
          <div class="email-info">📧 snpest20@gmail.com</div>
          <div class="whatsapp-info">
            📱 <strong>WhatsApp: +1 (514) 582-4400</strong>
            <span
              data-en="(Response within 1 hour!)"
              data-fr="(Réponse en moins d'une heure!)"
              >(Response within 1 hour!)</span
            >
          </div>
          <div class="phone-info">📞 <strong>+1 (514) 582-4400</strong></div>
          <div class="address-info">📍 2311 RUE LISE MONTREAL, QC H8N 1M7</div>
        </div>

        <div class="next-steps">
          <h4 data-en="📋 Next Steps:" data-fr="📋 Prochaines Étapes:">
            📋 Next Steps:
          </h4>
          <div class="steps-list">
            <div class="step-item">
              <span class="step-number">1</span>
              <span
                data-en="After clicking 'Copy Quote', paste it into your email app or WhatsApp"
                data-fr="Après avoir cliqué sur 'Copier le Devis', collez-le dans votre app email ou WhatsApp"
                >After clicking 'Copy Quote', paste it into your email app or
                WhatsApp</span
              >
            </div>
            <div class="step-item">
              <span class="step-number">2</span>
              <span
                data-en="Send to snpest20@gmail.com, call (514) 582-4400, or WhatsApp +1 (514) 582-4400"
                data-fr="Envoyez à snpest20@gmail.com, appelez (514) 582-4400, ou WhatsApp +1 (514) 582-4400"
                >Send to snpest20@gmail.com, call (514) 582-4400, or WhatsApp +1
                (514) 582-4400</span
              >
            </div>
            <div class="step-item">
              <span class="step-number">3</span>
              <span
                data-en="Get your response within 1 hour via WhatsApp, phone, or email!"
                data-fr="Recevez votre réponse en moins d'une heure via WhatsApp, téléphone ou email!"
                >Get your response within 1 hour via WhatsApp, phone, or
                email!</span
              >
            </div>
          </div>
          <div class="whatsapp-emphasis">
            <strong
              data-en="💬 Prefer WhatsApp? We're very responsive on WhatsApp for faster communication!"
              data-fr="💬 Préférez WhatsApp? Nous sommes très réactifs sur WhatsApp pour une communication plus rapide!"
              >💬 Prefer WhatsApp? We're very responsive on WhatsApp for faster
              communication!</strong
            >
          </div>
        </div>
      </div>

      <div class="navigation">
        <div>
          <button
            class="btn btn-secondary"
            onclick="goToHome()"
            data-en="← Back to Home"
            data-fr="← Retour à l'Accueil"
            data-es="← Volver al Inicio"
            data-zh="← 回到首页"
            data-it="← Torna alla Home"
            data-fa="← بازگشت به خانه"
            data-ar="← العودة للرئيسية"
          >
            ← Back to Home
          </button>
          <button
            class="btn btn-danger"
            onclick="resetCalculator()"
            data-en="Start Over"
            data-fr="Recommencer"
            data-es="Empezar de Nuevo"
            data-zh="重新开始"
            data-it="Ricomincia"
            data-fa="شروع مجدد"
            data-ar="ابدأ من جديد"
          >
            Start Over
          </button>
        </div>
        <div>
          <button
            class="btn btn-secondary"
            id="prevBtn"
            onclick="previousStep()"
            data-en="Back"
            data-fr="Retour"
            data-es="Atrás"
            data-zh="返回"
            data-it="Indietro"
            data-fa="بازگشت"
            data-ar="رجوع"
            style="display: none"
          >
            Back
          </button>
          <button
            class="btn btn-primary"
            id="nextBtn"
            onclick="nextStep()"
            data-en="Next"
            data-fr="Suivant"
            data-es="Siguiente"
            data-zh="下一步"
            data-it="Avanti"
            data-fa="بعدی"
            data-ar="التالي"
          >
            Next
          </button>
        </div>
      </div>

      <div class="footer">
        <p
          data-en="This tool provides an instant estimate. Follow the steps to build your quote. Please note that all online quotes are estimates and may be adjusted after a final on-site inspection."
          data-fr="Cet outil fournit une estimation instantanée. Suivez les étapes pour créer votre devis. Veuillez noter que tous les devis en ligne sont des estimations et peuvent être ajustés après une inspection finale sur place."
        >
          This tool provides an instant estimate. Follow the steps to build your
          quote. Please note that all online quotes are estimates and may be
          adjusted after a final on-site inspection.
        </p>

        <p
          style="margin-top: 16px; font-weight: 600; color: #2e8b57"
          data-en="All prices include Quebec GST (5%) and QST (9.975%) as required by law. Service available throughout Montreal and surrounding areas."
          data-fr="Tous les prix incluent la TPS du Québec (5%) et la TVQ (9,975%) comme requis par la loi. Service disponible dans tout Montréal et les régions environnantes."
        >
          All prices include Quebec GST (5%) and QST (9.975%) as required by
          law. Service available throughout Montreal and surrounding areas.
        </p>
      </div>
    </div>

    <script>
      // Global state
      let currentStep = 1;
      let currentLanguage = "en";
      let selectedServices = {};
      let selectedPackages = new Set();
      let appliedPromoCode = null;
      let formData = {
        address: "",
        phone: "",
        propertyType: "",
        serviceFrequency: "",
        protectionPlan: "none",
      };

      // Extended Protection Plan pricing
      const protectionPlanPricing = {
        none: 0,
        "4-month": 40,
        "6-month": 50,
        "1-year": 60,
      };

      // Pricing data - Updated from SN Pest Control flyer
      const pricing = {
        apartment: {
          mice: 120,
          rats: 120,
          ants: 120,
          spiders: 100,
          cockroaches: 120,
          wasps: 150,
          bedbugs: 150,
          fleas: 120,
          silverfish: 100,
          earwigs: 100,
          centipedes: 100,
          "carpenter-ants": 120,
          "fruit-flies": 100,
          "rodent-family": 220,
          "crawling-defense": 280,
          "general-guard": 240,
        },
        townhouse: {
          mice: 120,
          rats: 120,
          ants: 120,
          spiders: 100,
          cockroaches: 120,
          wasps: 150,
          bedbugs: 200,
          fleas: 120,
          silverfish: 100,
          earwigs: 100,
          centipedes: 100,
          "carpenter-ants": 120,
          "fruit-flies": 100,
          "rodent-family": 220,
          "crawling-defense": 280,
          "general-guard": 240,
        },
        "detached-small": {
          mice: 120,
          rats: 120,
          ants: 120,
          spiders: 100,
          cockroaches: 120,
          wasps: 150,
          bedbugs: 250,
          fleas: 120,
          silverfish: 100,
          earwigs: 100,
          centipedes: 100,
          "carpenter-ants": 120,
          "fruit-flies": 100,
          "rodent-family": 220,
          "crawling-defense": 280,
          "general-guard": 240,
        },
        "detached-large": {
          mice: 120,
          rats: 120,
          ants: 120,
          spiders: 100,
          cockroaches: 120,
          wasps: 150,
          bedbugs: 250,
          fleas: 120,
          silverfish: 100,
          earwigs: 100,
          centipedes: 100,
          "carpenter-ants": 120,
          "fruit-flies": 100,
          "rodent-family": 220,
          "crawling-defense": 280,
          "general-guard": 240,
        },
        commercial: {
          mice: 80,
          rats: 80,
          ants: 69,
          spiders: 69,
          cockroaches: 80,
          wasps: 100,
          bedbugs: 100,
          fleas: 80,
          silverfish: 69,
          earwigs: 69,
          centipedes: 69,
          "carpenter-ants": 80,
          "fruit-flies": 69,
          "rodent-family": 150,
          "crawling-defense": 180,
          "general-guard": 160,
        },
      };

      // Package definitions
      const packages = {
        "rodent-family": ["mice", "rats"],
        "crawling-defense": ["ants", "spiders", "cockroaches"],
        "general-guard": ["ants", "spiders", "mice"],
      };

      // Severity multipliers
      const severityMultipliers = {
        low: 1.0,
        medium: 1.2,
        high: 1.5,
        "no-idea": 1.25, // Average for calculation, but will show ranges
      };

      // Language switching
      function changeLanguage(newLanguage) {
        currentLanguage = newLanguage;
        updateLanguage();
      }

      function updateLanguage() {
        document.querySelectorAll("[data-en]").forEach((element) => {
          if (element.dataset[currentLanguage]) {
            element.textContent = element.dataset[currentLanguage];
          }
        });

        // Update placeholders
        const addressInput = document.getElementById("address");
        const phoneInput = document.getElementById("phone");

        const placeholders = {
          address: {
            en: "123 Main Street",
            fr: "123 Rue Principale",
            es: "123 Calle Principal",
            zh: "主街123号",
            it: "123 Via Principale",
            fa: "123 خیابان اصلی",
            ar: "123 الشارع الرئيسي",
          },
          phone: {
            en: "(555) 123-4567",
            fr: "(555) 123-4567",
            es: "(555) 123-4567",
            zh: "(555) 123-4567",
            it: "(555) 123-4567",
            fa: "(555) 123-4567",
            ar: "(555) 123-4567",
          },
        };

        addressInput.placeholder = placeholders.address[currentLanguage];
        phoneInput.placeholder = placeholders.phone[currentLanguage];

        // Update plan info if visible
        showPlanInfo();

        // Update protection plan info if visible
        showProtectionPlanOptions();

        // Update quote if on step 3
        if (currentStep === 3) {
          updateQuote();
        }

        // Set the dropdown to current language
        document.querySelector(".language-select").value = currentLanguage;
      }

      // Language data
      // Language data
      const translations = {
        planInfo: {
          seasonal: {
            en: "Great choice! You'll receive a 20% discount on your total service cost, billed quarterly. Proceed to select the pests for your plan.",
            fr: "Excellent choix! Vous recevrez une remise de 20% sur le coût total de votre service, facturé trimestriellement. Procédez à la sélection des nuisibles pour votre plan.",
            es: "¡Excelente elección! Recibirá un 20% de descuento en el costo total de su servicio, facturado trimestralmente. Proceda a seleccionar las plagas para su plan.",
            zh: "很好的选择！您将获得总服务费用20%的折扣，按季度计费。请继续为您的计划选择害虫。",
            it: "Ottima scelta! Riceverai uno sconto del 20% sul costo totale del servizio, fatturato trimestralmente. Procedi a selezionare i parassiti per il tuo piano.",
            fa: "انتخاب عالی! شما 20% تخفیف از کل هزینه خدمات دریافت خواهید کرد که سه ماهه صورتحساب می‌شود. برای انتخاب آفات برنامه خود ادامه دهید.",
            ar: "اختيار ممتاز! ستحصل على خصم 20% من إجمالي تكلفة الخدمة، يتم إصدار فاتورة بها ربع سنوياً. تابع لاختيار الآفات لخطتك.",
          },
          monthly: {
            en: "Our best value! You'll receive a 30% discount on your total service cost, billed monthly. Proceed to select the pests for your plan.",
            fr: "Notre meilleure valeur! Vous recevrez une remise de 30% sur le coût total de votre service, facturé mensuellement. Procédez à la sélection des nuisibles pour votre plan.",
            es: "¡Nuestro mejor valor! Recibirá un 30% de descuento en el costo total de su servicio, facturado mensualmente. Proceda a seleccionar las plagas para su plan.",
            zh: "我们最超值的选择！您将获得总服务费用30%的折扣，按月计费。请继续为您的计划选择害虫。",
            it: "Il nostro miglior valore! Riceverai uno sconto del 30% sul costo totale del servizio, fatturato mensilmente. Procedi a selezionare i parassiti per il tuo piano.",
            fa: "بهترین ارزش ما! شما 30% تخفیف از کل هزینه خدمات دریافت خواهید کرد که ماهانه صورتحساب می‌شود. برای انتخاب آفات برنامه خود ادامه دهید.",
            ar: "أفضل قيمة لدينا! ستحصل على خصم 30% من إجمالي تكلفة الخدمة، يتم إصدار فاتورة بها شهرياً. تابع لاختيار الآفات لخطتك.",
          },
        },
      };

      // Initialize the calculator
      function initCalculator() {
        setupEventListeners();
        setupProtectionPlanListeners();
        updateLanguage();
        validateStep1();
      }

      // Event listeners
      function setupEventListeners() {
        // Property type selection
        document
          .querySelectorAll("#propertyType .radio-option")
          .forEach((option) => {
            option.addEventListener("click", function () {
              selectRadioOption("property", this);
              formData.propertyType = this.dataset.value;
              validateStep1();
            });
          });

        // Service frequency selection
        document
          .querySelectorAll("#serviceFrequency .radio-option")
          .forEach((option) => {
            option.addEventListener("click", function () {
              selectRadioOption("frequency", this);
              formData.serviceFrequency = this.dataset.value;
              showPlanInfo();
              showProtectionPlanOptions();
              validateStep1();
            });
          });

        // Package selection
        document.querySelectorAll(".package-card").forEach((card) => {
          card.addEventListener("click", function () {
            togglePackage(this.dataset.package);
          });
        });

        // Service selection and severity
        document.querySelectorAll(".service-card").forEach((card) => {
          const service = card.dataset.service;

          // Service selection (clicking the card)
          card.addEventListener("click", function (e) {
            if (!e.target.classList.contains("severity-btn")) {
              toggleService(service);
            }
          });

          // Severity selection
          card.querySelectorAll(".severity-btn").forEach((btn) => {
            btn.addEventListener("click", function (e) {
              e.stopPropagation();
              selectSeverity(service, this.dataset.severity);
            });
          });
        });

        // Address and phone inputs
        document
          .getElementById("address")
          .addEventListener("input", function () {
            formData.address = this.value;
          });

        document.getElementById("phone").addEventListener("input", function () {
          formData.phone = this.value;
        });
      }

      // Setup protection plan listeners (called after DOM is ready)
      function setupProtectionPlanListeners() {
        document
          .querySelectorAll("#protectionPlan .radio-option")
          .forEach((option) => {
            // Remove existing listeners first
            option.removeEventListener("click", handleProtectionPlanClick);
            // Add new listener
            option.addEventListener("click", handleProtectionPlanClick);
          });
      }

      function handleProtectionPlanClick() {
        selectRadioOption("protection", this);
        formData.protectionPlan = this.dataset.value;
        // Update quote if we're on step 3
        if (currentStep === 3) {
          updateQuote();
        }
      }

      // Language switching
      function toggleLanguage() {
        currentLanguage = currentLanguage === "en" ? "fr" : "en";
        updateLanguage();
      }

      function updateLanguage() {
        document.querySelectorAll("[data-en]").forEach((element) => {
          if (element.dataset[currentLanguage]) {
            element.textContent = element.dataset[currentLanguage];
          }
        });

        // Update placeholders
        const addressInput = document.getElementById("address");
        addressInput.placeholder =
          currentLanguage === "en" ? "123 Main Street" : "123 Rue Principale";

        const phoneInput = document.getElementById("phone");
        phoneInput.placeholder =
          currentLanguage === "en" ? "(555) 123-4567" : "(555) 123-4567";

        // Update plan info if visible
        showPlanInfo();

        // Update protection plan info if visible
        showProtectionPlanOptions();

        // Update quote if on step 3
        if (currentStep === 3) {
          updateQuote();
        }
      }

      // Radio option selection
      function selectRadioOption(name, selectedOption) {
        const group = selectedOption.closest(".radio-group");
        group.querySelectorAll(".radio-option").forEach((option) => {
          option.classList.remove("selected");
          option.querySelector("input").checked = false;
        });

        selectedOption.classList.add("selected");
        selectedOption.querySelector("input").checked = true;
      }

      // Plan information display
      function showPlanInfo() {
        const planInfo = document.getElementById("planInfo");
        const frequency = formData.serviceFrequency;

        if (frequency === "seasonal" || frequency === "monthly") {
          const text = translations.planInfo[frequency][currentLanguage];
          planInfo.textContent = text;
          planInfo.classList.add("show");
        } else {
          planInfo.classList.remove("show");
        }
      }

      // Show/hide protection plan options
      function showProtectionPlanOptions() {
        const protectionPlanGroup = document.getElementById(
          "protectionPlanGroup"
        );
        const protectionPlanInfo =
          document.getElementById("protectionPlanInfo");
        const frequency = formData.serviceFrequency;

        // Show protection plan for all service frequencies except one-time
        if (frequency && frequency !== "one-time") {
          protectionPlanGroup.style.display = "block";
          protectionPlanInfo.classList.add("show");
          // Setup event listeners for protection plan options
          setTimeout(() => setupProtectionPlanListeners(), 100);
        } else {
          protectionPlanGroup.style.display = "none";
          protectionPlanInfo.classList.remove("show");
          formData.protectionPlan = "none";
          // Reset protection plan selection
          document
            .querySelectorAll("#protectionPlan .radio-option")
            .forEach((option) => {
              option.classList.remove("selected");
              option.querySelector("input").checked = false;
            });
          const noneOption = document.querySelector(
            '#protectionPlan .radio-option[data-value="none"]'
          );
          if (noneOption) {
            noneOption.classList.add("selected");
            noneOption.querySelector("input").checked = true;
          }
        }
      }

      // Package toggling with smart logic
      function togglePackage(packageName) {
        const packageCard = document.querySelector(
          `[data-package="${packageName}"]`
        );
        const isSelected = selectedPackages.has(packageName);

        if (isSelected) {
          // Deselect package and its services
          selectedPackages.delete(packageName);
          packageCard.classList.remove("selected");

          packages[packageName].forEach((service) => {
            delete selectedServices[service];
            updateServiceDisplay(service);
          });
        } else {
          // Select package and its services
          selectedPackages.add(packageName);
          packageCard.classList.add("selected");

          packages[packageName].forEach((service) => {
            selectedServices[service] = { severity: "medium" };
            updateServiceDisplay(service);
          });
        }

        // Update quote if we're on step 3
        if (currentStep === 3) {
          updateQuote();
        }
      }

      // Service toggling with package interaction
      function toggleService(service) {
        const serviceCard = document.querySelector(
          `[data-service="${service}"]`
        );
        const isSelected = selectedServices[service];

        if (isSelected) {
          // Deselect service
          delete selectedServices[service];
          updateServiceDisplay(service);

          // Check if this breaks any packages
          checkPackageIntegrity();
        } else {
          // Select service with default medium severity
          selectedServices[service] = { severity: "medium" };
          updateServiceDisplay(service);

          // Check if this completes any packages
          checkPackageFormation();
        }

        // Update quote if we're on step 3
        if (currentStep === 3) {
          updateQuote();
        }
      }

      // Severity selection
      function selectSeverity(service, severity) {
        if (!selectedServices[service]) {
          selectedServices[service] = {};
        }

        selectedServices[service].severity = severity;
        updateServiceDisplay(service);

        // Update quote if we're on step 3
        if (currentStep === 3) {
          updateQuote();
        }
      }

      // Update service display
      function updateServiceDisplay(service) {
        const serviceCard = document.querySelector(
          `[data-service="${service}"]`
        );
        const proTip = serviceCard.querySelector(".pro-tip");
        const severityBtns = serviceCard.querySelectorAll(".severity-btn");

        if (selectedServices[service]) {
          serviceCard.classList.add("selected");
          proTip.classList.add("show");

          // Update severity buttons
          const selectedSeverity = selectedServices[service].severity;
          severityBtns.forEach((btn) => {
            btn.classList.toggle(
              "selected",
              btn.dataset.severity === selectedSeverity
            );
          });
        } else {
          serviceCard.classList.remove("selected");
          proTip.classList.remove("show");

          // Clear severity buttons
          severityBtns.forEach((btn) => {
            btn.classList.remove("selected");
          });
        }
      }

      // Check package integrity (when service is deselected)
      function checkPackageIntegrity() {
        for (const [packageName, services] of Object.entries(packages)) {
          if (selectedPackages.has(packageName)) {
            const allServicesSelected = services.every(
              (service) => selectedServices[service]
            );

            if (!allServicesSelected) {
              selectedPackages.delete(packageName);
              document
                .querySelector(`[data-package="${packageName}"]`)
                .classList.remove("selected");
            }
          }
        }
      }

      // Check package formation (when service is selected)
      function checkPackageFormation() {
        for (const [packageName, services] of Object.entries(packages)) {
          if (!selectedPackages.has(packageName)) {
            const allServicesSelected = services.every(
              (service) => selectedServices[service]
            );

            if (allServicesSelected) {
              selectedPackages.add(packageName);
              document
                .querySelector(`[data-package="${packageName}"]`)
                .classList.add("selected");
            }
          }
        }
      }

      // Step validation
      function validateStep1() {
        const hasPropertyType = formData.propertyType !== "";
        const hasFrequency = formData.serviceFrequency !== "";
        const isValid = hasPropertyType && hasFrequency;

        document.getElementById("nextBtn").disabled = !isValid;

        // Hide error messages if valid
        if (hasPropertyType) {
          document.getElementById("propertyError").style.display = "none";
        }
        if (hasFrequency) {
          document.getElementById("frequencyError").style.display = "none";
          // Show protection plan options when frequency is selected
          showProtectionPlanOptions();
        }

        return isValid;
      }

      // Step navigation
      function nextStep() {
        if (currentStep === 1) {
          if (!validateStep1()) {
            // Show error messages
            if (!formData.propertyType) {
              document.getElementById("propertyError").style.display = "block";
            }
            if (!formData.serviceFrequency) {
              document.getElementById("frequencyError").style.display = "block";
            }
            return;
          }
        }

        if (currentStep < 3) {
          currentStep++;
          updateStepDisplay();

          // Update quote when moving to step 3
          if (currentStep === 3) {
            updateQuote();
          }
        }
      }

      function previousStep() {
        if (currentStep > 1) {
          currentStep--;
          updateStepDisplay();
        }
      }

      // Promo code functionality
      function applyPromoCode() {
        const promoInput = document.getElementById("promoCode");
        const promoCode = promoInput.value.trim().toUpperCase();
        const promoSuccess = document.getElementById("promoSuccess");
        const promoError = document.getElementById("promoError");

        // Hide previous messages
        promoSuccess.style.display = "none";
        promoError.style.display = "none";

        // Valid promo codes
        const validCodes = ["SILVER10", "SAVE20"];

        if (validCodes.includes(promoCode)) {
          appliedPromoCode = promoCode;
          promoSuccess.style.display = "block";
          updateQuote();

          // Hide success message after 3 seconds
          setTimeout(() => {
            promoSuccess.style.display = "none";
          }, 3000);
        } else if (promoCode === "") {
          // Clear promo code
          appliedPromoCode = null;
          updateQuote();
        } else {
          promoError.style.display = "block";

          // Hide error message after 3 seconds
          setTimeout(() => {
            promoError.style.display = "none";
          }, 3000);
        }
      }

      function updateStepDisplay() {
        // Hide all steps
        document.querySelectorAll(".step").forEach((step) => {
          step.classList.remove("active");
        });

        // Show current step
        document.getElementById(`step${currentStep}`).classList.add("active");

        // Update progress bar
        document.querySelectorAll(".progress-step").forEach((step, index) => {
          const stepNumber = index + 1;
          step.classList.remove("active", "completed");

          if (stepNumber === currentStep) {
            step.classList.add("active");
          } else if (stepNumber < currentStep) {
            step.classList.add("completed");
          }
        });

        // Update navigation buttons
        const prevBtn = document.getElementById("prevBtn");
        const nextBtn = document.getElementById("nextBtn");

        prevBtn.style.display = currentStep === 1 ? "none" : "inline-block";

        if (currentStep === 3) {
          nextBtn.style.display = "none";
        } else {
          nextBtn.style.display = "inline-block";
          nextBtn.textContent = currentLanguage === "en" ? "Next" : "Suivant";
        }
      }

      // Quote calculation and display
      // Quote calculation and display
      function updateQuote() {
        const quoteSummary = document.getElementById("quoteSummary");

        // Check if we have any selected services or packages
        if (
          selectedPackages.size === 0 &&
          Object.keys(selectedServices).length === 0
        ) {
          quoteSummary.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #666;">
                        <p>${
                          currentLanguage === "en"
                            ? "Please select at least one service or package from Step 2."
                            : "Veuillez sélectionner au moins un service ou forfait à l'étape 2."
                        }</p>
                    </div>
                `;
          return;
        }

        let html = "";
        let baseTotal = 0;

        // Calculate selected services
        const serviceItems = [];
        const packageItems = [];

        // Add packages first
        for (const packageName of selectedPackages) {
          const price = pricing[formData.propertyType][packageName];
          packageItems.push({
            name: getPackageDisplayName(packageName),
            price: price,
            isPackage: true,
          });
          baseTotal += price;
        }

        // Add individual services (not part of selected packages)
        for (const [service, details] of Object.entries(selectedServices)) {
          const isInSelectedPackage = Array.from(selectedPackages).some((pkg) =>
            packages[pkg].includes(service)
          );

          if (!isInSelectedPackage) {
            const basePrice = pricing[formData.propertyType][service];
            const multiplier = severityMultipliers[details.severity];
            const finalPrice = Math.round(basePrice * multiplier);

            serviceItems.push({
              name: getServiceDisplayName(service),
              basePrice: basePrice,
              severity: details.severity,
              finalPrice: finalPrice,
            });
            baseTotal += finalPrice;
          }
        }

        // Display packages
        packageItems.forEach((item) => {
          html += `
                    <div class="quote-line">
                        <span>${item.name}</span>
                        <span>${item.price}</span>
                    </div>
                `;
        });

        // Display individual services
        serviceItems.forEach((item) => {
          const severityText = getSeverityDisplayName(item.severity);
          const tooltipText =
            currentLanguage === "en"
              ? `Base price ${item.basePrice} × ${
                  severityMultipliers[item.severity]
                }x (${severityText} severity)`
              : `Prix de base ${item.basePrice} × ${
                  severityMultipliers[item.severity]
                }x (gravité ${severityText})`;

          html += `
                    <div class="quote-line">
                        <span>${item.name} (${severityText}) <span class="tooltip" data-tooltip="${tooltipText}">?</span></span>
                        <span>${item.finalPrice}</span>
                    </div>
                `;
        });

        // Add protection plan
        const protectionPlanCost =
          protectionPlanPricing[formData.protectionPlan] || 0;
        if (protectionPlanCost > 0) {
          baseTotal += protectionPlanCost;
          const protectionPlanName = document.querySelector(
            `#protectionPlan [data-value="${formData.protectionPlan}"] span`
          ).textContent;
          html += `
                    <div class="quote-line">
                        <span>${protectionPlanName}</span>
                        <span>${protectionPlanCost}</span>
                    </div>
                `;
        }

        // Base total
        html += `
                <div class="quote-line">
                    <span>${
                      currentLanguage === "en" ? "Base Total" : "Total de Base"
                    }</span>
                    <span>${baseTotal}</span>
                </div>
            `;

        let subtotal = baseTotal;

        // Smart discounts
        const highSeverityCount = Object.values(selectedServices).filter(
          (s) => s.severity === "high"
        ).length;
        if (highSeverityCount >= 2) {
          const discount = 50;
          subtotal -= discount;
          const tooltipText =
            currentLanguage === "en"
              ? "2+ pests at High severity"
              : "2+ nuisibles à gravité élevée";

          html += `
                    <div class="quote-line">
                        <span>${
                          currentLanguage === "en"
                            ? "Major Infestation Deal"
                            : "Offre Infestation Majeure"
                        } <span class="tooltip" data-tooltip="${tooltipText}">?</span></span>
                        <span>-${discount}</span>
                    </div>
                `;
        }

        // Promo code discount
        if (appliedPromoCode) {
          let promoDiscount = 0;
          if (appliedPromoCode === "SILVER10") {
            promoDiscount = Math.round(subtotal * 0.1);
          } else if (appliedPromoCode === "SAVE20") {
            promoDiscount = Math.round(subtotal * 0.2);
          }

          if (promoDiscount > 0) {
            subtotal -= promoDiscount;
            const discountPercent =
              appliedPromoCode === "SILVER10" ? "10%" : "20%";
            html += `
                        <div class="quote-line">
                            <span>${
                              currentLanguage === "en"
                                ? "Promo Code"
                                : "Code Promo"
                            } (${appliedPromoCode}) <span class="tooltip" data-tooltip="${discountPercent} ${
              currentLanguage === "en" ? "discount" : "remise"
            }">?</span></span>
                            <span>-${promoDiscount}</span>
                        </div>
                    `;
          }
        }

        // Service plan discount
        let finalTotal = subtotal;
        if (formData.serviceFrequency === "seasonal") {
          const discount = Math.round(subtotal * 0.2);
          finalTotal -= discount;
          html += `
                    <div class="quote-line">
                        <span>${
                          currentLanguage === "en"
                            ? "Seasonal Plan Discount (20%)"
                            : "Remise Plan Saisonnier (20%)"
                        } <span class="tooltip" data-tooltip="${
            currentLanguage === "en"
              ? "Billed quarterly"
              : "Facturé trimestriellement"
          }">?</span></span>
                        <span>-${discount}</span>
                    </div>
                `;
        } else if (formData.serviceFrequency === "monthly") {
          const discount = Math.round(subtotal * 0.3);
          finalTotal -= discount;
          html += `
                    <div class="quote-line">
                        <span>${
                          currentLanguage === "en"
                            ? "Monthly Plan Discount (30%)"
                            : "Remise Plan Mensuel (30%)"
                        } <span class="tooltip" data-tooltip="${
            currentLanguage === "en"
              ? "Billed monthly"
              : "Facturé mensuellement"
          }">?</span></span>
                        <span>-${discount}</span>
                    </div>
                `;
        }

        // Final total
        html += `
                <div class="quote-line">
                    <span>${
                      currentLanguage === "en" ? "FINAL TOTAL" : "TOTAL FINAL"
                    }</span>
                    <span>${finalTotal}</span>
                </div>
            `;

        quoteSummary.innerHTML = html;
      }

      // Helper functions for display names
      // Helper functions for display names
      function getPackageDisplayName(packageName) {
        const names = {
          "rodent-family": {
            en: "The Rodent Family",
            fr: "La Famille des Rongeurs",
            es: "La Familia de Roedores",
            zh: "啮齿动物家族",
            it: "La Famiglia dei Roditori",
            fa: "خانواده جوندگان",
            ar: "عائلة القوارض",
          },
          "crawling-defense": {
            en: "Crawling Insect Defense",
            fr: "Défense contre les Insectes Rampants",
            es: "Defensa contra Insectos Rastreros",
            zh: "爬行昆虫防护",
            it: "Difesa dagli Insetti Striscianti",
            fa: "دفاع در برابر حشرات خزنده",
            ar: "دفاع ضد الحشرات الزاحفة",
          },
          "general-guard": {
            en: "General Home Guard",
            fr: "Protection Générale du Foyer",
            es: "Guardia General del Hogar",
            zh: "家庭综合防护",
            it: "Guardia Generale della Casa",
            fa: "محافظ عمومی خانه",
            ar: "حارس المنزل العام",
          },
        };
        return names[packageName][currentLanguage];
      }

      function getServiceDisplayName(service) {
        const names = {
          mice: {
            en: "Mice",
            fr: "Souris",
            es: "Ratones",
            zh: "老鼠",
            it: "Topi",
            fa: "موش",
            ar: "فئران",
          },
          rats: {
            en: "Rats",
            fr: "Rats",
            es: "Ratas",
            zh: "大鼠",
            it: "Ratti",
            fa: "موش صحرایی",
            ar: "جرذان",
          },
          ants: {
            en: "Ants",
            fr: "Fourmis",
            es: "Hormigas",
            zh: "蚂蚁",
            it: "Formiche",
            fa: "مورچه",
            ar: "نمل",
          },
          spiders: {
            en: "Spiders",
            fr: "Araignées",
            es: "Arañas",
            zh: "蜘蛛",
            it: "Ragni",
            fa: "عنکبوت",
            ar: "عناكب",
          },
          cockroaches: {
            en: "Cockroaches",
            fr: "Cafards",
            es: "Cucarachas",
            zh: "蟑螂",
            it: "Scarafaggi",
            fa: "سوسک",
            ar: "صراصير",
          },
          wasps: {
            en: "Wasps",
            fr: "Guêpes",
            es: "Avispas",
            zh: "黄蜂",
            it: "Vespe",
            fa: "زنبور",
            ar: "دبابير",
          },
          bedbugs: {
            en: "Bed Bugs",
            fr: "Punaises de Lit",
            es: "Chinches",
            zh: "臭虫",
            it: "Cimici da Letto",
            fa: "ساس تخت",
            ar: "بق الفراش",
          },
          fleas: {
            en: "Fleas",
            fr: "Puces",
            es: "Pulgas",
            zh: "跳蚤",
            it: "Pulci",
            fa: "کک",
            ar: "براغيث",
          },
          silverfish: {
            en: "Silverfish",
            fr: "Poissons d'Argent",
            es: "Pececillos de Plata",
            zh: "蠹虫",
            it: "Pesciolini d'Argento",
            fa: "ماهی نقره‌ای",
            ar: "السمك الفضي",
          },
          earwigs: {
            en: "Earwigs",
            fr: "Perce-Oreilles",
            es: "Tijeretas",
            zh: "蠼螋",
            it: "Forbicine",
            fa: "گوش‌خزک",
            ar: "أبو مقص",
          },
          centipedes: {
            en: "Centipedes",
            fr: "Mille-Pattes",
            es: "Ciempiés",
            zh: "蜈蚣",
            it: "Centopiedi",
            fa: "صدپا",
            ar: "أم أربعة وأربعين",
          },
          "carpenter-ants": {
            en: "Carpenter Ants",
            fr: "Fourmis Charpentières",
            es: "Hormigas Carpinteras",
            zh: "木蚁",
            it: "Formiche del Legno",
            fa: "مورچه نجار",
            ar: "النمل النجار",
          },
          "fruit-flies": {
            en: "Fruit Flies",
            fr: "Mouches à Fruits",
            es: "Moscas de la Fruta",
            zh: "果蝇",
            it: "Moscerini della Frutta",
            fa: "مگس میوه",
            ar: "ذباب الفاكهة",
          },
        };
        return names[service][currentLanguage];
      }

      function getSeverityDisplayName(severity) {
        const names = {
          low: {
            en: "Low",
            fr: "Faible",
            es: "Bajo",
            zh: "轻微",
            it: "Basso",
            fa: "کم",
            ar: "منخفض",
          },
          medium: {
            en: "Medium",
            fr: "Moyen",
            es: "Medio",
            zh: "中等",
            it: "Medio",
            fa: "متوسط",
            ar: "متوسط",
          },
          high: {
            en: "High",
            fr: "Élevé",
            es: "Alto",
            zh: "严重",
            it: "Alto",
            fa: "زیاد",
            ar: "عالي",
          },
          "no-idea": {
            en: "No idea",
            fr: "Aucune idée",
            es: "No sé",
            zh: "不清楚",
            it: "Non so",
            fa: "نمی‌دانم",
            ar: "لا أعرف",
          },
        };
        return names[severity][currentLanguage];
      }

      // Navigation to home page
      function goToHome() {
        window.location.href = "index.html";
      }

      // Copy quote functionality
      function copyQuote() {
        const address =
          formData.address ||
          (currentLanguage === "en" ? "Not provided" : "Non fourni");
        const phone =
          formData.phone ||
          (currentLanguage === "en" ? "Not provided" : "Non fourni");
        const propertyType = document.querySelector(
          `[data-value="${formData.propertyType}"] span`
        ).textContent;
        const serviceFreq = document.querySelector(
          `[data-value="${formData.serviceFrequency}"] span`
        ).textContent;

        const protectionPlan =
          formData.protectionPlan !== "none"
            ? document.querySelector(
                `[data-value="${formData.protectionPlan}"] span`
              ).textContent
            : currentLanguage === "en"
            ? "None"
            : "Aucun";

        // Reconstruct quote details with actual prices
        let quoteDetails = [];
        let baseTotal = 0;

        // Add packages first
        for (const packageName of selectedPackages) {
          const price = pricing[formData.propertyType][packageName];
          quoteDetails.push(`${getPackageDisplayName(packageName)}: $${price}`);
          baseTotal += price;
        }

        // Add individual services (not part of selected packages)
        for (const [service, details] of Object.entries(selectedServices)) {
          const isInSelectedPackage = Array.from(selectedPackages).some((pkg) =>
            packages[pkg].includes(service)
          );

          if (!isInSelectedPackage) {
            const basePrice = pricing[formData.propertyType][service];
            const multiplier = severityMultipliers[details.severity];
            const finalPrice = Math.round(basePrice * multiplier);
            const severityText = getSeverityDisplayName(details.severity);

            quoteDetails.push(
              `${getServiceDisplayName(
                service
              )} (${severityText}): $${finalPrice}`
            );
            baseTotal += finalPrice;
          }
        }

        // Add protection plan cost
        const protectionPlanCost =
          protectionPlanPricing[formData.protectionPlan] || 0;
        if (protectionPlanCost > 0) {
          const protectionPlanName = document.querySelector(
            `#protectionPlan [data-value="${formData.protectionPlan}"] span`
          ).textContent;
          quoteDetails.push(`${protectionPlanName}: $${protectionPlanCost}`);
          baseTotal += protectionPlanCost;
        }

        // Add base total
        quoteDetails.push(
          `${
            currentLanguage === "en" ? "Base Total" : "Total de Base"
          }: $${baseTotal}`
        );

        let subtotal = baseTotal;

        // Add discounts
        const highSeverityCount = Object.values(selectedServices).filter(
          (s) => s.severity === "high"
        ).length;
        if (highSeverityCount >= 2) {
          const discount = 50;
          subtotal -= discount;
          quoteDetails.push(
            `${
              currentLanguage === "en"
                ? "Major Infestation Deal"
                : "Offre Infestation Majeure"
            }: -$${discount}`
          );
        }

        // Promo code discount
        if (appliedPromoCode) {
          let promoDiscount = 0;
          if (appliedPromoCode === "SILVER10") {
            promoDiscount = Math.round(subtotal * 0.1);
          } else if (appliedPromoCode === "SAVE20") {
            promoDiscount = Math.round(subtotal * 0.2);
          }

          if (promoDiscount > 0) {
            subtotal -= promoDiscount;
            const discountPercent =
              appliedPromoCode === "SILVER10" ? "10%" : "20%";
            quoteDetails.push(
              `${
                currentLanguage === "en" ? "Promo Code" : "Code Promo"
              } (${appliedPromoCode}): -$${promoDiscount}`
            );
          }
        }

        // Service plan discount
        let finalTotal = subtotal;
        if (formData.serviceFrequency === "seasonal") {
          const discount = Math.round(subtotal * 0.2);
          finalTotal -= discount;
          quoteDetails.push(
            `${
              currentLanguage === "en"
                ? "Seasonal Plan Discount (20%)"
                : "Remise Plan Saisonnier (20%)"
            }: -$${discount}`
          );
        } else if (formData.serviceFrequency === "monthly") {
          const discount = Math.round(subtotal * 0.3);
          finalTotal -= discount;
          quoteDetails.push(
            `${
              currentLanguage === "en"
                ? "Monthly Plan Discount (30%)"
                : "Remise Plan Mensuel (30%)"
            }: -$${discount}`
          );
        }

        // Add final total
        quoteDetails.push(
          `${
            currentLanguage === "en" ? "FINAL TOTAL" : "TOTAL FINAL"
          }: $${finalTotal}`
        );

        const quoteText = `
SN Pest Control - ${
          currentLanguage === "en" ? "Quote Request" : "Demande de Devis"
        }

${currentLanguage === "en" ? "Customer Information" : "Informations Client"}:
${currentLanguage === "en" ? "Address" : "Adresse"}: ${address}
${currentLanguage === "en" ? "Phone" : "Téléphone"}: ${phone}
${
  currentLanguage === "en" ? "Property Type" : "Type de Propriété"
}: ${propertyType}
${
  currentLanguage === "en" ? "Service Frequency" : "Fréquence de Service"
}: ${serviceFreq}
${
  currentLanguage === "en" ? "Protection Plan" : "Plan de Protection"
}: ${protectionPlan}

${currentLanguage === "en" ? "Quote Details" : "Détails du Devis"}:
${quoteDetails.join("\n")}

${
  currentLanguage === "en"
    ? "All prices include Quebec GST (5%) and QST (9.975%) as required by law."
    : "Tous les prix incluent la TPS du Québec (5%) et la TVQ (9,975%) comme requis par la loi."
}

${
  currentLanguage === "en" ? "CONTACT INFORMATION:" : "INFORMATIONS DE CONTACT:"
}
📧 Email: snpest20@gmail.com
📞 Phone: (514) 582-4400
📱 WhatsApp: +1 (514) 582-4400 (${
          currentLanguage === "en"
            ? "Response within 1 hour!"
            : "Réponse en moins d'une heure!"
        })
📍 Address: 2311 RUE LISE MONTREAL, QC H8N 1M7
🌐 Website: silvernestpestcontrol.com

${
  currentLanguage === "en"
    ? "Please contact us via phone, email, or WhatsApp to confirm this quote and schedule your service. We are very responsive on WhatsApp for faster communication!"
    : "Veuillez nous contacter par téléphone, email ou WhatsApp pour confirmer ce devis et planifier votre service. Nous sommes très réactifs sur WhatsApp pour une communication plus rapide!"
}

${
  currentLanguage === "en"
    ? "Service Area: Montreal and surrounding areas including Laval, Longueuil, West Island, South Shore, and North Shore."
    : "Zone de service: Montréal et les régions environnantes incluant Laval, Longueuil, West Island, Rive-Sud et Rive-Nord."
}

${
  currentLanguage === "en"
    ? "Say Goodbye to Pests, Hello to Peace!"
    : "Dites Adieu aux Nuisibles, Bonjour à la Paix!"
}
    `.trim();

        navigator.clipboard.writeText(quoteText).then(() => {
          const successMsg = document.getElementById("copySuccess");
          successMsg.style.display = "block";
          setTimeout(() => {
            successMsg.style.display = "none";
          }, 3000);
        });
      }

      // Reset calculator
      function resetCalculator() {
        currentStep = 1;
        selectedServices = {};
        selectedPackages.clear();
        appliedPromoCode = null;
        formData = {
          address: "",
          phone: "",
          propertyType: "",
          serviceFrequency: "",
          protectionPlan: "none",
        };

        // Clear form inputs
        document.getElementById("address").value = "";
        document.getElementById("phone").value = "";
        document.getElementById("promoCode").value = "";

        // Clear radio selections
        document.querySelectorAll(".radio-option").forEach((option) => {
          option.classList.remove("selected");
          option.querySelector("input").checked = false;
        });

        // Reset protection plan to default
        document
          .querySelector('#protectionPlan .radio-option[data-value="none"]')
          .classList.add("selected");
        document.querySelector(
          '#protectionPlan .radio-option[data-value="none"] input'
        ).checked = true;

        // Clear service selections
        document
          .querySelectorAll(".package-card, .service-card")
          .forEach((card) => {
            card.classList.remove("selected");
          });

        document.querySelectorAll(".severity-btn").forEach((btn) => {
          btn.classList.remove("selected");
        });

        document.querySelectorAll(".pro-tip").forEach((tip) => {
          tip.classList.remove("show");
        });

        // Hide sections
        document.getElementById("planInfo").classList.remove("show");
        document.getElementById("protectionPlanInfo").classList.remove("show");
        document.getElementById("protectionPlanGroup").style.display = "none";

        // Reset error and success messages
        document
          .querySelectorAll(".error-message, .success-message")
          .forEach((msg) => {
            msg.style.display = "none";
          });

        updateStepDisplay();
        validateStep1();
      }

      // Initialize when page loads
      document.addEventListener("DOMContentLoaded", initCalculator);
    </script>
  </body>
</html>
